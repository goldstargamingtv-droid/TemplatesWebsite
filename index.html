<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeployTemplate - Premium Website Templates</title>
    <meta name="description" content="Beautiful, professional website templates ready to launch your business. No coding required.">
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="icon" href="/favicon.ico">
    
    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Supabase Client Library -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <style>
        /* ============================================
           DEPLOYTEMPLATE - ALL STYLES
           ============================================ */

        /* CSS Variables */
        :root {
            --primary: #0D9488;
            --primary-dark: #0F766E;
            --primary-light: #14B8A6;
            --secondary: #06B6D4;
            --accent: #F97316;
            
            --gradient-1: linear-gradient(135deg, #0D9488 0%, #14B8A6 100%);
            --gradient-2: linear-gradient(135deg, #14B8A6 0%, #06B6D4 100%);
            --gradient-3: linear-gradient(135deg, #0F766E 0%, #0EA5E9 100%);
            
            --border-radius: 8px;
            --border-radius-lg: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Dark Mode (Default) */
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-tertiary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border-color: #27272a;
            --card-bg: #18181b;
            --card-hover: #27272a;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.6);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.7);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.8);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
        }

        /* Light Mode */
        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f1f5f9;
            --bg-tertiary: #e2e8f0;
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-muted: #64748b;
            --border-color: #cbd5e1;
            --card-bg: #ffffff;
            --card-hover: #f8fafc;
            
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
            position: relative;
        }
        
        /* Global Background - Simplified */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at top, rgba(13, 148, 136, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* Global Grid - Disabled for performance */

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-1);
            border-radius: 6px;
            border: 2px solid var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gradient-2);
            box-shadow: 0 0 10px rgba(13, 148, 136, 0.5);
        }

        /* Firefox Scrollbar */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--bg-secondary);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        ul {
            list-style: none;
        }

        /* Container */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 3rem;
        }
        
        /* Main content wrapper - pushes content right on desktop */
        .main-content {
            margin-left: 0;
            transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 1;
        }
        
        @media (min-width: 1025px) {
            .main-content {
                margin-left: 70px; /* Match collapsed sidebar width */
            }
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            color: var(--text-primary);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 50%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 600;
            font-size: 1rem;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            text-align: center;
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(13, 148, 136, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(20, 184, 166, 0.5);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--accent) 0%, #FB923C 100%);
            color: #ffffff;
            border: none;
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-secondary:hover::before {
            left: 100%;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #FB923C 0%, var(--accent) 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(249, 115, 22, 0.5);
        }
        
        /* Glassmorphism Navbar Buttons */
        .btn-nav-glass {
            padding: 0.6rem 1.25rem;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
        }
        
        .btn-nav-glass-secondary {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1.5px solid rgba(255, 255, 255, 0.15);
            color: var(--text-primary);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.2),
                inset 0 1px 1px rgba(255, 255, 255, 0.1);
        }
        
        .btn-nav-glass-secondary::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 12px;
            background: linear-gradient(45deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 300% 300%;
            z-index: -2;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: gradientShift 5s ease infinite;
        }
        
        .btn-nav-glass-secondary::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 10px;
            background: rgba(10, 10, 10, 0.9);
            z-index: -1;
        }
        
        [data-theme="light"] .btn-nav-glass-secondary::after {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .btn-nav-glass-secondary:hover::before {
            opacity: 1;
        }
        
        .btn-nav-glass-secondary:hover {
            transform: translateY(-2px);
            border-color: transparent;
            color: #ffffff;
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.3);
        }
        
        [data-theme="light"] .btn-nav-glass-secondary {
            background: rgba(0, 0, 0, 0.03);
            border: 1.5px solid rgba(0, 0, 0, 0.1);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.05),
                inset 0 1px 1px rgba(255, 255, 255, 0.5);
        }
        
        [data-theme="light"] .btn-nav-glass-secondary:hover {
            color: var(--text-primary);
        }
        
        .btn-nav-glass-primary {
            background: rgba(20, 184, 166, 0.15);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1.5px solid rgba(20, 184, 166, 0.4);
            color: var(--primary);
            box-shadow: 
                0 4px 16px rgba(20, 184, 166, 0.15),
                inset 0 1px 1px rgba(20, 184, 166, 0.2);
        }
        
        .btn-nav-glass-primary::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 12px;
            background: linear-gradient(45deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 300% 300%;
            z-index: -2;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: gradientShift 5s ease infinite;
        }
        
        .btn-nav-glass-primary::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 10px;
            background: rgba(10, 10, 10, 0.9);
            z-index: -1;
        }
        
        [data-theme="light"] .btn-nav-glass-primary::after {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .btn-nav-glass-primary:hover::before {
            opacity: 1;
        }
        
        .btn-nav-glass-primary:hover {
            transform: translateY(-2px);
            border-color: transparent;
            color: #ffffff;
            box-shadow: 0 8px 25px rgba(20, 184, 166, 0.3);
        }
        
        [data-theme="light"] .btn-nav-glass-primary {
            background: rgba(13, 148, 136, 0.1);
            border: 1.5px solid rgba(13, 148, 136, 0.4);
            box-shadow: 
                0 4px 16px rgba(13, 148, 136, 0.1),
                inset 0 1px 1px rgba(13, 148, 136, 0.15);
        }
        
        [data-theme="light"] .btn-nav-glass-primary:hover {
            color: var(--text-primary);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: rgba(13, 148, 136, 0.1);
        }

        .btn-white {
            background: rgba(255, 255, 255, 0.95);
            color: #0a0a0a;
            border: none;
            font-weight: 600;
        }

        .btn-white:hover {
            background: #ffffff;
            transform: scale(1.05);
        }

        .btn-outline-white {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .btn-outline-white:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }

        .btn-lg {
            padding: 1rem 2rem;
            font-size: 1.1rem;
        }

        .btn-small {
            padding: 0.6rem 1.2rem;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .btn-block {
            width: 100%;
            justify-content: center;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: transparent;
            border-bottom: 1px solid rgba(20, 184, 166, 0.2);
            z-index: 1000;
            padding: 0;
            transition: var(--transition);
        }
        
        /* Glass effect via pseudo-element to avoid blocking dropdown backdrop-filters */
        .navbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            z-index: -1;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 -1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        .navbar::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            height: 3px;
            width: 0%;
            background: #14B8A6;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1;
        }
        
        .navbar.loading::after {
            width: var(--load-progress, 0%);
        }
        
        .navbar.loaded::after {
            width: 100%;
            opacity: 0;
            transition: width 0.2s ease-out, opacity 0.3s ease-out 0.2s;
        }

        [data-theme="light"] .navbar {
            border-bottom: 1px solid rgba(13, 148, 136, 0.2);
        }
        
        [data-theme="light"] .navbar::before {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 -1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }
        
        [data-theme="light"] .navbar::after {
            background: #14B8A6;
        }

        .navbar .container {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 0.5rem;
            max-width: 100%;
            padding: 0 1.5rem;
        }

        /* Navbar Search */
        .nav-search-wrapper {
            position: relative;
            flex: 1;
            max-width: none;
        }

        .nav-search {
            position: relative;
            display: flex;
            align-items: center;
        }

        .nav-search svg {
            position: absolute;
            left: 0.875rem;
            color: #F97316;
            pointer-events: none;
        }

        .nav-search input {
            width: 100%;
            padding: 0.625rem 0.875rem 0.625rem 2.5rem;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid rgba(20, 184, 166, 0.2); /* Match templates search */
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: var(--transition);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        /* Light mode glassmorphism for search input */
        [data-theme="light"] .nav-search input {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .nav-search input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.1);
        }

        .nav-search input::placeholder {
            color: var(--text-muted);
        }

        /* Search Suggestions Dropdown */
        .search-suggestions {
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2); /* Fixed to 1px */
            border-radius: var(--border-radius);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
            max-height: 400px;
            overflow-y: auto;
            z-index: 10000;
            display: none;
        }
        
        /* Specific fix for nav search to break out of navbar stacking context */
        #navSearchSuggestions {
            position: fixed;
            z-index: 100000; /* Much higher to ensure it's above navbar */
        }
        
        /* Light mode glassmorphism for search suggestions */
        [data-theme="light"] .search-suggestions {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .search-suggestions.active {
            display: block;
        }

        .suggestion-item {
            padding: 0.875rem 1rem;
            cursor: pointer;
            transition: var(--transition);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.875rem;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .suggestion-item:hover,
        .suggestion-item.active {
            background: var(--card-hover);
        }

        .suggestion-icon {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            background: var(--gradient-1);
            flex-shrink: 0;
        }

        .suggestion-content {
            flex: 1;
        }

        .suggestion-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.2rem;
        }

        .suggestion-category {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .suggestion-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .suggestion-empty {
            padding: 2rem 1rem;
            text-align: center;
            color: var(--text-muted);
        }

        .suggestion-empty svg {
            width: 48px;
            height: 48px;
            margin: 0 auto 0.75rem;
            opacity: 0.3;
        }
        
        .suggestion-header {
            padding: 0.75rem 1rem;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }
        
        .suggestion-name mark {
            background: rgba(13, 148, 136, 0.3);
            color: var(--primary);
            padding: 0 2px;
            border-radius: 2px;
        }

        .logo {
            font-size: 1.65rem;
            font-weight: 800;
            background: linear-gradient(135deg, #14B8A6 0%, #14B8A6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 0;
            transition: var(--transition);
            flex-shrink: 0;
            margin: -20px -3rem -20px -3rem;
            margin-right: 0;
        }

        .logo-image {
            width: 120px;
            height: 120px;
            object-fit: contain;
            margin-right: -35px;
            z-index: 1;
            position: relative;
        }

        .logo-text {
            white-space: nowrap;
            display: inline;
            letter-spacing: -0.5px;
            position: relative;
            z-index: 2;
        }
        
        .logo-text {
            display: flex;
            align-items: baseline;
            gap: 0;
        }
        
        .logo-text-deploy {
            color: #ffffff !important;
            -webkit-text-fill-color: #ffffff !important;
            position: relative;
            top: -5px;
        }
        
        [data-theme="light"] .logo-text-deploy {
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
        }
        
        .logo-text-template {
            display: inline-block;
            position: relative;
            top: -5px;
            min-width: 5.5em;
            margin-left: 0.15em;
        }
        
        .logo-text-template-inner {
            white-space: nowrap;
        }
        
        .logo-text-template-inner span {
            display: inline-block;
            opacity: 0;
            transition: opacity 0.05s ease;
            color: #14B8A6 !important;
            -webkit-text-fill-color: #14B8A6 !important;
        }
        
        [data-theme="light"] .logo-text-template-inner span {
            color: #0D9488 !important;
            -webkit-text-fill-color: #0D9488 !important;
        }
        
        .logo-text-template-cursor {
            position: absolute;
            left: 0;
            top: 0.3em;
            width: 0.5em;
            height: 1em;
            background-color: #ffffff;
            transition: left 0.1s ease;
            animation: blink-caret 0.9s step-end infinite;
        }
        
        [data-theme="light"] .logo-text-template-cursor {
            background-color: #000000;
        }
        
        @keyframes typewriter-reveal {
            0% {
                opacity: 0;
            }
            0.1%, 20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            80.1%, 100% {
                opacity: 0;
            }
        }
        
        @keyframes reveal {
            0%, 19.9% {
                opacity: 0;
            }
            20%, 79.9% {
                opacity: 1;
            }
            80%, 100% {
                opacity: 0;
            }
        }
        
        @keyframes blink-caret {
            0%, 49% {
                opacity: 1;
            }
            50%, 100% {
                opacity: 0;
            }
        }

        .logo:hover {
            transform: translateY(-1px);
        }

        .logo-icon {
            font-size: 1.75rem;
        }

        .nav-links {
            display: flex;
            gap: 0;
            align-items: center;
            flex-shrink: 0;
            margin-left: auto;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            cursor: pointer;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--primary);
            transform: scaleY(0);
            transition: transform 0.3s ease, background 0.3s ease;
        }
        
        @keyframes gradientShiftVertical {
            0%, 100% { background-position: 0% 0%; }
            50% { background-position: 0% 100%; }
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
            pointer-events: none;
        }

        .nav-links a:hover {
            background: var(--card-hover);
            color: var(--text-primary);
            padding-left: 1rem;
        }

        .nav-links a:hover::before {
            transform: scaleY(1);
            background: linear-gradient(180deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 100% 300%;
            animation: gradientShiftVertical 5s ease infinite;
        }
        
        .nav-links a:hover::after {
            left: 100%;
        }

        .nav-links a.active {
            background: rgba(20, 184, 166, 0.1);
            color: var(--primary);
            padding-left: 1rem;
        }

        .nav-links a.active::before {
            transform: scaleY(1);
            background: var(--primary);
        }

        .nav-links a.active:hover::before {
            background: linear-gradient(180deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 100% 300%;
            animation: gradientShiftVertical 5s ease infinite;
        }

        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 0.3rem;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: var(--primary);
            border-radius: 2px;
            transition: var(--transition);
        }
        
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Nav CTA */
        .nav-cta {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        /* User Menu Styles */
        .user-menu {
            position: relative;
            z-index: 10002;
            padding: 0.25rem;
        }

        .user-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1.5px solid rgba(20, 184, 166, 0.2);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: visible;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        [data-theme="light"] .user-avatar {
            background: rgba(255, 255, 255, 0.7);
            border: 1.5px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .user-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 300% 300%;
            z-index: -2;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: gradientShift 5s ease infinite;
        }

        .user-avatar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: rgba(10, 10, 10, 0.7);
            z-index: -1;
        }
        
        [data-theme="light"] .user-avatar::after {
            background: rgba(255, 255, 255, 0.7);
        }

        .user-avatar:hover::before {
            opacity: 1;
        }

        .user-avatar:hover {
            transform: translateY(-2px);
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.3);
        }

        .user-dropdown {
            position: fixed; /* Changed to fixed to break out of navbar */
            z-index: 100000; /* Much higher */
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2);
            border-radius: var(--border-radius-lg);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
            min-width: 240px;
            padding: 0.75rem;
            display: none;
            flex-direction: column;
            gap: 0.25rem;
        }
        
        /* Light mode glassmorphism for user dropdown */
        [data-theme="light"] .user-dropdown {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .user-dropdown::before {
            content: '';
            position: absolute;
            top: -20px;
            right: 0;
            left: 0;
            height: 25px;
            background: transparent;
            pointer-events: none;
        }

        .user-menu:hover .user-dropdown,
        .user-dropdown.active {
            display: flex;
        }

        .user-dropdown a,
        .user-dropdown button {
            padding: 0.875rem 1rem;
            color: var(--text-primary);
            transition: all 0.2s ease;
            border-radius: 8px;
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
            font-size: 0.95rem;
            width: 100%;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 500;
        }

        .user-dropdown a svg,
        .user-dropdown button svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .user-dropdown a:hover,
        .user-dropdown button:hover {
            background: rgba(20, 184, 166, 0.1);
            color: #14B8A6;
        }

        .user-dropdown a:hover svg,
        .user-dropdown button:hover svg {
            opacity: 1;
        }

        .user-dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.5rem 0;
        }

        .user-dropdown button.sign-out {
            color: #F97316;
        }

        .user-dropdown button.sign-out:hover {
            background: rgba(249, 115, 22, 0.1);
            color: #F97316;
        }

        /* Theme Toggle - Icon Button */
        .theme-btn {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
            color: var(--text-secondary);
            margin-top: 2px;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        /* Light mode glassmorphism for theme button */
        [data-theme="light"] .theme-btn {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .theme-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 8px;
            background: linear-gradient(45deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 300% 300%;
            z-index: -2;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: gradientShift 5s ease infinite;
        }

        .theme-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 6px;
            background: rgba(10, 10, 10, 0.7); /* Match glassmorphism */
            z-index: -1;
        }
        
        [data-theme="light"] .theme-btn::after {
            background: rgba(255, 255, 255, 0.7);
        }

        .theme-btn:hover::before {
            opacity: 1;
        }

        .theme-btn:hover {
            border-color: transparent;
        }

        .theme-btn svg {
            width: 16px;
            height: 16px;
        }

        /* Left Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 50px;
            left: 0;
            width: 70px;
            height: calc(100vh - 50px);
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-right: 1px solid var(--border-color);
            z-index: 100;
            overflow-y: auto;
            overflow-x: hidden;
            transition: width 0.3s ease, background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
            scrollbar-width: none;
        }
        
        .sidebar:hover {
            width: 260px;
            background: rgba(10, 10, 10, 0.85);
            border-right: 1px solid rgba(20, 184, 166, 0.3);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3), 0 0 30px rgba(20, 184, 166, 0.05);
        }
        
        [data-theme="light"] .sidebar {
            background: rgba(255, 255, 255, 0.95);
        }
        
        [data-theme="light"] .sidebar:hover {
            background: rgba(255, 255, 255, 0.9);
            border-right: 1px solid rgba(13, 148, 136, 0.3);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.08);
        }

        /* Hide sidebar on mobile by default */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                width: 260px;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .sidebar .sidebar-section-title,
            .sidebar .sidebar-menu-item > span:not(.badge),
            .sidebar .sidebar-menu-item .badge {
                opacity: 1;
            }
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            display: none;
        }
        
        /* Only show overlay on mobile */
        @media (max-width: 1024px) {
            .sidebar-overlay {
                display: block;
            }
            
            .sidebar-overlay.active {
                opacity: 1;
                visibility: visible;
            }
        }

        .sidebar-content {
            padding: 1rem 0.75rem;
            position: relative;
            z-index: 2;
        }

        .sidebar-section {
            margin-bottom: 1.5rem;
        }

        .sidebar-section-title {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            padding: 0 0.75rem;
            margin-bottom: 0.5rem;
            opacity: 0;
            transition: opacity 0.2s ease;
            white-space: nowrap;
        }
        
        .sidebar:hover .sidebar-section-title {
            opacity: 1;
        }

        .sidebar-menu {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .sidebar-menu-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all 0.2s ease;
            cursor: pointer;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .sidebar-menu-item > span:not(.badge) {
            opacity: 0;
            white-space: nowrap;
            transition: opacity 0.2s ease;
        }
        
        .sidebar:hover .sidebar-menu-item > span:not(.badge) {
            opacity: 1;
        }

        .sidebar-menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--primary);
            transform: scaleY(0);
            transition: transform 0.3s ease, background 0.3s ease;
        }

        .sidebar-menu-item:hover {
            background: var(--card-hover);
            color: var(--text-primary);
        }

        .sidebar-menu-item:hover::before {
            transform: scaleY(1);
            background: linear-gradient(180deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 100% 300%;
            animation: gradientShiftVertical 5s ease infinite;
        }
        
        .sidebar-menu-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
            pointer-events: none;
        }
        
        .sidebar-menu-item:hover::after {
            left: 100%;
        }

        .sidebar-menu-item.active {
            background: rgba(20, 184, 166, 0.1);
            color: var(--primary);
        }

        .sidebar-menu-item.active::before {
            transform: scaleY(1);
            background: var(--primary);
        }

        .sidebar-menu-item svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .sidebar-menu-item .badge {
            margin-left: auto;
            background: var(--primary);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0.15rem 0.5rem;
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .sidebar:hover .sidebar-menu-item .badge {
            opacity: 1;
        }

        .sidebar-toggle {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.75rem;
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
            z-index: 10001;
            transition: all 0.3s ease;
            margin-right: 1rem;
        }
        
        /* Hide on desktop, show on mobile */
        @media (min-width: 1025px) {
            .sidebar-toggle {
                display: none;
            }
        }

        .sidebar-toggle:hover {
            transform: scale(1.05);
        }

        .sidebar-toggle span {
            width: 26px;
            height: 3px;
            background: var(--primary);
            border-radius: 3px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: block;
        }

        .sidebar-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .sidebar-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .sidebar-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Cart System */
        .cart-icon-wrapper {
            position: relative;
            cursor: pointer;
            padding: 0.25rem;
            transition: var(--transition);
            z-index: 10002;
        }

        .cart-icon-container {
            position: relative;
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1.5px solid rgba(20, 184, 166, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: visible;
            margin-top: 3px;
            margin-left: 5px;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        /* Light mode glassmorphism for cart icon */
        [data-theme="light"] .cart-icon-container {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1.5px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .cart-icon-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 14px;
            background: linear-gradient(45deg, #14B8A6, #F97316, #06B6D4, #14B8A6);
            background-size: 300% 300%;
            z-index: -2;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: gradientShift 5s ease infinite;
        }

        .cart-icon-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 12px;
            background: rgba(10, 10, 10, 0.7); /* Match glassmorphism */
            z-index: -1;
        }
        
        [data-theme="light"] .cart-icon-container::after {
            background: rgba(255, 255, 255, 0.7);
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .cart-icon-wrapper:hover .cart-icon-container::before {
            opacity: 1;
        }

        .cart-icon-wrapper:hover .cart-icon-container {
            transform: translateY(-2px);
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.3);
        }

        .cart-icon {
            width: 22px;
            height: 22px;
            color: var(--text-primary);
            transition: all 0.3s ease;
            position: relative;
            z-index: 1;
        }

        .cart-icon-wrapper:hover .cart-icon {
            color: #ffffff;
            transform: scale(1.1);
        }
        
        [data-theme="light"] .cart-icon-wrapper:hover .cart-icon {
            color: var(--text-primary);
        }

        /* Stylish animated badge */
        .cart-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            min-width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #F97316 0%, #ea580c 100%);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0 0.4rem;
            border-radius: 10px;
            text-align: center;
            line-height: 20px;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.5);
            border: 2px solid var(--bg-primary);
            z-index: 2;
            animation: badgePop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .cart-badge::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 14px;
            background: linear-gradient(135deg, #F97316 0%, #ea580c 100%);
            opacity: 0;
            z-index: -1;
            animation: badgePulse 2s ease-in-out infinite;
        }

        @keyframes badgePop {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        @keyframes badgePulse {
            0%, 100% { opacity: 0; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(1.3); }
        }

        .cart-dropdown {
            position: fixed; /* Changed to fixed to break out of navbar */
            z-index: 100000; /* Much higher */
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2);
            border-radius: var(--border-radius-lg);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
            min-width: 320px;
            max-width: 400px;
            padding: 1rem;
            display: none;
            flex-direction: column;
            gap: 1rem;
            max-height: 500px;
        }
        
        /* Light mode glassmorphism for cart dropdown */
        [data-theme="light"] .cart-dropdown {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .cart-dropdown::before {
            content: '';
            position: absolute;
            top: -20px;
            right: 0;
            left: 0;
            height: 25px;
            background: transparent;
        }

        .cart-icon-wrapper:hover .cart-dropdown,
        .cart-dropdown.active {
            display: flex;
        }
        
        /* Hide cart dropdown when modal is open */
        body.cart-modal-open .cart-icon-wrapper:hover .cart-dropdown,
        body.cart-modal-open .cart-dropdown.active {
            display: none !important;
            pointer-events: none;
        }

        .cart-dropdown-header {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--text-primary);
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
        }

        #cartDropdownItems {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        #cartDropdownFooter {
            flex-shrink: 0;
        }

        .cart-item {
            display: flex;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .cart-item:hover {
            background: var(--card-hover);
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            border-radius: 6px;
            object-fit: cover;
            background: var(--gradient-1);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 0.9rem;
        }

        .cart-item-remove {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.25rem;
            transition: var(--transition);
            font-size: 1.2rem;
        }

        .cart-item-remove:hover {
            color: #dc2626;
        }

        .cart-empty {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-muted);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            flex: 1;
            justify-content: center;
        }

        .cart-empty-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: rgba(20, 184, 166, 0.1);
            border: 2px solid rgba(20, 184, 166, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }
        
        [data-theme="light"] .cart-empty-icon {
            background: rgba(13, 148, 136, 0.1);
            border: 2px solid rgba(13, 148, 136, 0.2);
        }

        .cart-empty-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .cart-empty-subtext {
            font-size: 0.95rem;
            color: var(--text-muted);
            max-width: 280px;
            line-height: 1.6;
        }
        
        .cart-empty-btn {
            margin-top: 1rem;
            padding: 0.875rem 2rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .cart-empty-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.4);
        }
        
        /* Cart Items */
        .cart-modal-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .cart-modal-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(20, 184, 166, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .cart-modal-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(20, 184, 166, 0.2);
        }
        
        [data-theme="light"] .cart-modal-item {
            background: rgba(0, 0, 0, 0.02);
            border: 1px solid rgba(13, 148, 136, 0.1);
        }
        
        [data-theme="light"] .cart-modal-item:hover {
            background: rgba(0, 0, 0, 0.04);
            border-color: rgba(13, 148, 136, 0.2);
        }
        
        .cart-modal-item-image {
            width: 70px;
            height: 70px;
            border-radius: 10px;
            background: var(--gradient-1);
            flex-shrink: 0;
        }
        
        .cart-modal-item-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 0.25rem;
        }
        
        .cart-modal-item-name {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .cart-modal-item-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .cart-modal-item-remove {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            align-self: center;
        }
        
        .cart-modal-item-remove:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }
        
        [data-theme="light"] .cart-modal-item-remove {
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border-color);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .cart-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        /* Cart Modal */
        .cart-modal {
            position: fixed;
            top: 50px;
            right: -100%;
            width: 100%;
            max-width: 480px;
            height: calc(100vh - 50px);
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(30px) saturate(200%);
            -webkit-backdrop-filter: blur(30px) saturate(200%);
            border-left: 1px solid rgba(20, 184, 166, 0.3);
            box-shadow: 
                -8px 0 40px rgba(0, 0, 0, 0.5),
                inset 1px 0 1px rgba(20, 184, 166, 0.15),
                0 0 80px rgba(20, 184, 166, 0.08);
            z-index: 20000;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        /* Light mode glassmorphism for cart modal */
        [data-theme="light"] .cart-modal {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(30px) saturate(200%);
            -webkit-backdrop-filter: blur(30px) saturate(200%);
            border-left: 1px solid rgba(13, 148, 136, 0.3);
            box-shadow: 
                -8px 0 40px rgba(0, 0, 0, 0.15),
                inset 1px 0 1px rgba(13, 148, 136, 0.15),
                0 0 80px rgba(13, 148, 136, 0.05);
        }

        .cart-modal.active {
            right: 0;
        }

        .cart-modal-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(20, 184, 166, 0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        
        [data-theme="light"] .cart-modal-header {
            border-bottom: 1px solid rgba(13, 148, 136, 0.15);
        }
        
        .cart-modal-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .cart-modal-logo svg {
            width: 28px;
            height: 28px;
            color: var(--primary);
        }
        
        .cart-modal-title {
            font-size: 1.35rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cart-modal-close {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            padding: 0;
        }

        .cart-modal-close:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #ef4444;
            transform: rotate(90deg);
        }
        
        [data-theme="light"] .cart-modal-close {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* ============================================
           AUTH PANEL - Slide-out Login/Signup
           ============================================ */
        
        .auth-overlay {
            position: fixed;
            top: 51px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            opacity: 0;
            visibility: hidden;
            z-index: 19999;
            transition: all 0.3s ease;
        }
        
        .auth-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .auth-panel {
            position: fixed;
            top: 51px;
            right: -100%;
            width: 100%;
            max-width: 480px;
            height: calc(100vh - 51px);
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(30px) saturate(200%);
            -webkit-backdrop-filter: blur(30px) saturate(200%);
            border-left: 1px solid rgba(20, 184, 166, 0.3);
            box-shadow: 
                -8px 0 40px rgba(0, 0, 0, 0.5),
                inset 1px 0 1px rgba(20, 184, 166, 0.15),
                0 0 80px rgba(20, 184, 166, 0.08);
            z-index: 25000;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .auth-panel.active {
            right: 0;
        }
        
        /* Light mode */
        [data-theme="light"] .auth-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(30px) saturate(200%);
            -webkit-backdrop-filter: blur(30px) saturate(200%);
            border-left: 1px solid rgba(13, 148, 136, 0.3);
            box-shadow: 
                -8px 0 40px rgba(0, 0, 0, 0.15),
                inset 1px 0 1px rgba(13, 148, 136, 0.15),
                0 0 80px rgba(13, 148, 136, 0.05);
        }
        
        [data-theme="light"] .auth-overlay {
            background: rgba(255, 255, 255, 0.4);
        }
        
        /* Auth Panel Header */
        .auth-panel-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(20, 184, 166, 0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        
        [data-theme="light"] .auth-panel-header {
            border-bottom: 1px solid rgba(13, 148, 136, 0.15);
        }
        
        .auth-panel-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .auth-panel-logo svg {
            width: 32px;
            height: 32px;
            color: var(--primary);
        }
        
        .auth-panel-logo span {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .auth-panel-close {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 1.25rem;
        }
        
        .auth-panel-close:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #ef4444;
            transform: rotate(90deg);
        }
        
        [data-theme="light"] .auth-panel-close {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* Auth Panel Content */
        .auth-panel-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        /* Auth Tabs */
        .auth-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 2rem;
            border: 1px solid rgba(20, 184, 166, 0.1);
        }
        
        [data-theme="light"] .auth-tabs {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(13, 148, 136, 0.1);
        }
        
        .auth-tab {
            flex: 1;
            padding: 0.875rem 1.5rem;
            background: transparent;
            border: none;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .auth-tab.active {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(13, 148, 136, 0.4);
        }
        
        .auth-tab:not(.active):hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* Auth Forms Container */
        .auth-forms {
            flex: 1;
            position: relative;
        }
        
        .auth-form {
            display: none;
            flex-direction: column;
            gap: 1.5rem;
            animation: authFormFadeIn 0.3s ease;
        }
        
        .auth-form.active {
            display: flex;
        }
        
        @keyframes authFormFadeIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Auth Form Header */
        .auth-form-header {
            margin-bottom: 0.5rem;
        }
        
        .auth-form-header h2 {
            font-size: 1.75rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .auth-form-header p {
            color: var(--text-muted);
            font-size: 0.95rem;
        }
        
        /* Auth Input Groups */
        .auth-input-group {
            position: relative;
        }
        
        .auth-input-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .auth-input-wrapper {
            position: relative;
        }
        
        .auth-input-wrapper > svg:first-of-type {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: var(--text-muted);
            transition: color 0.3s ease;
            pointer-events: none;
        }
        
        .auth-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(20, 184, 166, 0.15);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        /* Password inputs need extra right padding for toggle button */
        .auth-input[type="password"],
        .auth-input.has-toggle {
            padding-right: 3.5rem;
        }
        
        [data-theme="light"] .auth-input {
            background: rgba(0, 0, 0, 0.03);
            border: 2px solid rgba(13, 148, 136, 0.15);
        }
        
        .auth-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(20, 184, 166, 0.05);
            box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.1);
        }
        
        .auth-input:focus + svg,
        .auth-input-wrapper:focus-within svg {
            color: var(--primary);
        }
        
        .auth-input::placeholder {
            color: var(--text-muted);
        }
        
        /* Password Toggle */
        .auth-password-toggle {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s ease;
            z-index: 10;
            border-radius: 6px;
        }
        
        .auth-password-toggle:hover {
            color: var(--primary);
            background: rgba(20, 184, 166, 0.1);
        }
        
        .auth-password-toggle svg {
            width: 20px;
            height: 20px;
            pointer-events: none;
        }
        
        /* Auth Submit Button */
        .auth-submit {
            width: 100%;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .auth-submit::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .auth-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.4);
        }
        
        .auth-submit:hover::before {
            left: 100%;
        }
        
        .auth-submit:active {
            transform: translateY(0);
        }
        
        .auth-submit:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Auth Error */
        .auth-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 10px;
            padding: 0.875rem 1rem;
            color: #ef4444;
            font-size: 0.9rem;
            display: none;
        }
        
        .auth-error.active {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: authFormFadeIn 0.3s ease;
        }
        
        /* Auth Divider */
        .auth-divider {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(20, 184, 166, 0.3), transparent);
        }
        
        .auth-divider span {
            color: var(--text-muted);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Auth Footer */
        .auth-panel-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(20, 184, 166, 0.15);
            text-align: center;
            flex-shrink: 0;
        }
        
        [data-theme="light"] .auth-panel-footer {
            border-top: 1px solid rgba(13, 148, 136, 0.15);
        }
        
        .auth-panel-footer p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .auth-panel-footer a {
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .auth-panel-footer a:hover {
            color: var(--primary-light);
            text-decoration: underline;
        }
        
        /* Password Requirements */
        .auth-password-hint {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-muted);
        }
        
        .auth-password-hint svg {
            width: 14px;
            height: 14px;
        }
        
        /* Auth Panel Mobile */
        @media (max-width: 480px) {
            .auth-panel {
                max-width: 100%;
            }
            
            .auth-panel-content {
                padding: 1.5rem;
            }
            
            .auth-tabs {
                border-radius: 10px;
            }
            
            .auth-tab {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
        }

        .cart-modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
        }

        .cart-modal-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid rgba(20, 184, 166, 0.15);
            flex-shrink: 0;
        }
        
        [data-theme="light"] .cart-modal-footer {
            border-top: 1px solid rgba(13, 148, 136, 0.15);
        }

        .cart-modal-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1.25rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(20, 184, 166, 0.1);
        }
        
        .cart-modal-total span:last-child {
            color: var(--primary);
            font-size: 1.5rem;
        }
        
        .cart-modal-actions {
            display: flex;
            gap: 0.75rem;
        }
        
        .cart-modal-btn {
            flex: 1;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .cart-modal-btn-outline {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(20, 184, 166, 0.3);
            color: var(--text-secondary);
        }
        
        .cart-modal-btn-outline:hover {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.5);
            color: #ef4444;
        }
        
        [data-theme="light"] .cart-modal-btn-outline {
            background: rgba(0, 0, 0, 0.03);
            border: 2px solid rgba(13, 148, 136, 0.3);
        }
        
        .cart-modal-btn-primary {
            flex: 2;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border: none;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .cart-modal-btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .cart-modal-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(13, 148, 136, 0.4);
        }
        
        .cart-modal-btn-primary:hover::before {
            left: 100%;
        }

        .cart-overlay {
            position: fixed;
            top: 49px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 19999; /* Just below cart modal */
            display: none;
        }

        .cart-overlay.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 6rem 0 2rem;
            position: relative;
            z-index: 1;
        }
        
        /* Floating Particles - Disabled for performance */
        .hero-particle {
            display: none;
        }
        
        /* Glowing Orbs - Disabled for performance */
        .hero-orb {
            display: none;
        }
        
        section {
            position: relative;
            z-index: 1;
            background: transparent;
        }

        .hero .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            animation: fadeInDown 0.8s ease-out backwards;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .badge-dot {
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            letter-spacing: -2px;
            animation: fadeInUp 1s ease-out 0.2s backwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-description {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.8;
            animation: fadeInUp 1s ease-out 0.4s backwards;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out 0.6s backwards;
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            animation: fadeInUp 1s ease-out 0.8s backwards;
        }

        .stat-item {
            text-align: center;
            animation: scaleIn 0.6s ease-out backwards;
        }
        
        .stat-item:nth-child(1) {
            animation-delay: 1s;
        }
        
        .stat-item:nth-child(2) {
            animation-delay: 1.15s;
        }
        
        .stat-item:nth-child(3) {
            animation-delay: 1.3s;
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .hero-visual {
            position: relative;
            min-height: 500px;
        }

        .device-mockups {
            position: relative;
            width: 100%;
            height: 650px;
            display: grid;
            place-items: center;
            perspective: 2000px;
        }
        
        /* Reflection/Glow beneath devices - simplified */
        .device-mockups::after {
            content: '';
            position: absolute;
            bottom: -50px;
            left: 10%;
            right: 10%;
            height: 100px;
            background: radial-gradient(ellipse at 50% 0%, rgba(20, 184, 166, 0.15) 0%, transparent 70%);
            filter: blur(30px);
            pointer-events: none;
            z-index: 0;
        }
        
        /* Remove particle pseudo-element for performance */
        .device-mockups::before {
            display: none;
        }
        
        /* Main Device Container - Stacked Layout */
        .device {
            position: absolute;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.3s ease;
            cursor: pointer;
            will-change: transform;
            transform-style: preserve-3d;
        }
        
        /* ============================================
           LAPTOP - Multi-color animated glow
           ============================================ */
        .laptop::before {
            content: '';
            position: absolute;
            inset: -30px;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(249, 115, 22, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(20, 184, 166, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.2) 0%, transparent 60%);
            border-radius: 30px;
            filter: blur(20px);
            opacity: 0.8;
            animation: tabletPulse 4s ease-in-out infinite;
            z-index: -1;
        }
        
        .laptop:hover::before {
            opacity: 1;
            animation: tabletPulseHover 2s ease-in-out infinite;
        }
        
        /* ============================================
           TABLET - Multi-color animated glow
           ============================================ */
        .tablet::before {
            content: '';
            position: absolute;
            inset: -25px;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(249, 115, 22, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(20, 184, 166, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.2) 0%, transparent 60%);
            border-radius: 30px;
            filter: blur(20px);
            opacity: 0.8;
            animation: tabletPulse 4s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes tabletPulse {
            0%, 100% { 
                transform: scale(1); 
                filter: blur(20px) hue-rotate(0deg);
            }
            50% { 
                transform: scale(1.1); 
                filter: blur(25px) hue-rotate(30deg);
            }
        }
        
        .tablet:hover::before {
            opacity: 1;
            animation: tabletPulseHover 2s ease-in-out infinite;
        }
        
        @keyframes tabletPulseHover {
            0%, 100% { transform: scale(1.1); filter: blur(20px) hue-rotate(0deg); }
            50% { transform: scale(1.2); filter: blur(30px) hue-rotate(60deg); }
        }
        
        /* ============================================
           PHONE - Multi-color animated glow
           ============================================ */
        .phone::before {
            content: '';
            position: absolute;
            inset: -20px;
            background: 
                radial-gradient(ellipse at 20% 30%, rgba(249, 115, 22, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 70%, rgba(20, 184, 166, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(236, 72, 153, 0.2) 0%, transparent 60%);
            border-radius: 35px;
            filter: blur(20px);
            opacity: 0.8;
            animation: tabletPulse 4s ease-in-out infinite;
            z-index: -1;
        }
        
        .phone:hover::before {
            opacity: 1;
            animation: tabletPulseHover 2s ease-in-out infinite;
        }
        
        .device:hover {
            filter: brightness(1.05);
        }
        
        /* Laptop - Top center, larger with float */
        .laptop {
            width: 650px;
            top: -30px;
            left: 55%;
            transform: translateX(-50%);
            z-index: 2;
            animation: zoomInLaptop 1.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards, orbitLaptop 20s ease-in-out infinite 1.5s;
            transform-style: preserve-3d;
            will-change: transform, opacity;
            opacity: 0;
        }
        
        @keyframes orbitLaptop {
            0%, 100% { transform: translateX(-50%) perspective(1000px) rotateY(0deg) rotateX(5deg); }
            25% { transform: translateX(-50%) perspective(1000px) rotateY(6deg) rotateX(3deg); }
            50% { transform: translateX(-50%) perspective(1000px) rotateY(0deg) rotateX(-2deg); }
            75% { transform: translateX(-50%) perspective(1000px) rotateY(-6deg) rotateX(3deg); }
        }
        
        .laptop:hover {
            animation-play-state: paused;
            z-index: 10;
        }
        
        /* Tablet - Bottom right, angled with float */
        .tablet {
            width: 340px;
            bottom: -50px;
            right: -5%;
            z-index: 3;
            animation: zoomInTablet 1.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.3s forwards, orbitTablet 25s ease-in-out infinite 1.8s;
            transform-style: preserve-3d;
            will-change: transform, opacity;
            opacity: 0;
        }
        
        @keyframes orbitTablet {
            0%, 100% { transform: perspective(1000px) rotateY(-15deg) rotateX(8deg); }
            25% { transform: perspective(1000px) rotateY(-10deg) rotateX(10deg); }
            50% { transform: perspective(1000px) rotateY(-18deg) rotateX(5deg); }
            75% { transform: perspective(1000px) rotateY(-22deg) rotateX(8deg); }
        }
        
        .tablet:hover {
            animation-play-state: paused;
        }
        
        /* Phone - Left side, prominent with float */
        .phone {
            width: 280px;
            bottom: -10px;
            left: -2%;
            z-index: 4;
            animation: zoomInPhone 1.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards, orbitPhone 18s ease-in-out infinite 2s;
            transform-style: preserve-3d;
            will-change: transform, opacity;
            opacity: 0;
        }
        
        @keyframes orbitPhone {
            0%, 100% { transform: perspective(1000px) rotateY(18deg) rotateX(5deg); }
            25% { transform: perspective(1000px) rotateY(24deg) rotateX(2deg); }
            50% { transform: perspective(1000px) rotateY(18deg) rotateX(-3deg); }
            75% { transform: perspective(1000px) rotateY(12deg) rotateX(4deg); }
        }
        
        .phone:hover {
            animation-play-state: paused;
        }
        
        @keyframes floatIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        /* Zoom from background entry animations */
        @keyframes zoomInLaptop {
            0% {
                opacity: 0;
                transform: translateX(-50%) scale(0.3);
            }
            70% {
                opacity: 1;
                transform: translateX(-50%) scale(1.05);
            }
            100% {
                opacity: 1;
                transform: translateX(-50%) perspective(1000px) rotateY(0deg) rotateX(5deg) scale(1);
            }
        }
        
        @keyframes zoomInTablet {
            0% {
                opacity: 0;
                transform: perspective(1000px) rotateY(-15deg) rotateX(8deg) scale(0.3);
            }
            70% {
                opacity: 1;
                transform: perspective(1000px) rotateY(-15deg) rotateX(8deg) scale(1.08);
            }
            100% {
                opacity: 1;
                transform: perspective(1000px) rotateY(-15deg) rotateX(8deg) scale(1);
            }
        }
        
        @keyframes zoomInPhone {
            0% {
                opacity: 0;
                transform: perspective(1000px) rotateY(18deg) rotateX(5deg) scale(0.3);
            }
            70% {
                opacity: 1;
                transform: perspective(1000px) rotateY(18deg) rotateX(5deg) scale(1.1);
            }
            100% {
                opacity: 1;
                transform: perspective(1000px) rotateY(18deg) rotateX(5deg) scale(1);
            }
        }
        
        /* Device Frame - Base styles only */
        .device-frame {
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.4s ease, box-shadow 0.4s ease, border-color 0.3s ease;
        }
        
        /* ============================================
           LAPTOP - Premium Silver MacBook Style with Glassmorphism
           ============================================ */
        .laptop .device-frame {
            padding: 12px 12px 0 12px;
            border-radius: 16px 16px 0 0;
            background: rgba(220, 220, 220, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 3px rgba(255, 255, 255, 0.7),
                0 0 40px rgba(20, 184, 166, 0.2);
        }
        
        /* Laptop lid reflection */
        .laptop .device-frame::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, #1a1a1a 40%, #333 60%, #1a1a1a 100%);
            border-radius: 50%;
            box-shadow: 0 0 3px rgba(0,0,0,0.5);
            z-index: 15;
        }
        
        /* Camera notch - moved to ::before, ::after now unused */
        .laptop .device-frame::after {
            display: none;
        }
        
        .laptop .device-screen {
            aspect-ratio: 16/10;
            background: #0a0a0a;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            box-shadow: 
                inset 0 0 30px rgba(0, 0, 0, 0.8),
                inset 0 0 2px rgba(255,255,255,0.1);
            border: 2px solid #1a1a1a;
        }
        
        /* Laptop keyboard base */
        .laptop .device-base {
            display: block !important;
            height: 18px;
            background: rgba(180, 180, 180, 0.55);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 0 0 16px 16px;
            margin-top: -1px;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.2),
                0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-top: none;
        }
        
        /* Keyboard trackpad hint */
        .laptop .device-base::before {
            content: '';
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 6px;
            background: linear-gradient(180deg, #555 0%, #777 100%);
            border-radius: 3px;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.4);
        }
        
        .laptop:hover .device-frame {
            box-shadow: 
                0 40px 80px rgba(0, 0, 0, 0.5),
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 80px rgba(20, 184, 166, 0.35),
                0 0 120px rgba(20, 184, 166, 0.15),
                inset 0 2px 3px rgba(255, 255, 255, 0.8);
        }
        
        /* ============================================
           TABLET - Rose Gold iPad with Artistic Flair  
           ============================================ */
        .tablet .device-frame {
            padding: 16px;
            border-radius: 24px;
            background: rgba(240, 200, 190, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 220, 200, 0.6);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 3px rgba(255, 255, 255, 0.5),
                0 0 40px rgba(249, 115, 22, 0.25);
        }
        
        /* Side button */
        .tablet .device-frame::before {
            content: '';
            position: absolute;
            top: 60px;
            right: -4px;
            width: 4px;
            height: 40px;
            background: rgba(200, 150, 140, 0.7);
            border-radius: 0 3px 3px 0;
            box-shadow: 2px 0 4px rgba(0,0,0,0.2);
        }
        
        .tablet .device-frame::after {
            display: none;
        }
        
        .tablet .device-screen {
            aspect-ratio: 3/4;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: 
                inset 0 0 20px rgba(0, 0, 0, 0.6),
                0 0 0 2px rgba(0, 0, 0, 0.3);
        }
        
        .tablet:hover .device-frame {
            box-shadow: 
                0 35px 70px rgba(0, 0, 0, 0.4),
                0 15px 30px rgba(0, 0, 0, 0.25),
                0 0 60px rgba(249, 115, 22, 0.35),
                0 0 100px rgba(236, 72, 153, 0.2),
                inset 0 2px 4px rgba(255, 255, 255, 0.5);
        }
        
        /* ============================================
           PHONE - Cyberpunk Neon Futuristic with Glassmorphism
           ============================================ */
        .phone .device-frame {
            padding: 8px;
            border-radius: 32px;
            background: rgba(140, 160, 180, 0.45);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(34, 211, 238, 0.6);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 3px rgba(255, 255, 255, 0.3),
                0 0 40px rgba(6, 182, 212, 0.4);
            position: relative;
        }
        
        /* Neon edge glow - simplified */
        .phone .device-frame::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 34px;
            background: linear-gradient(45deg, 
                rgba(6, 182, 212, 0.6) 0%, 
                rgba(34, 211, 238, 0.8) 50%,
                rgba(6, 182, 212, 0.6) 100%);
            z-index: -1;
            opacity: 0.7;
        }
        
        /* Side buttons */
        .phone .device-frame::after {
            content: '';
            position: absolute;
            top: 80px;
            left: -4px;
            width: 4px;
            height: 60px;
            background: rgba(34, 211, 238, 0.6);
            border-radius: 3px 0 0 3px;
            box-shadow: -3px 0 10px rgba(6, 182, 212, 0.5);
        }
        
        .phone .device-screen {
            aspect-ratio: 9/19.5;
            background: #000;
            border-radius: 26px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 15px rgba(6, 182, 212, 0.2);
        }
        
        /* Dynamic Island style notch */
        .phone .device-screen::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 90px;
            height: 28px;
            background: #000;
            border-radius: 20px;
            z-index: 10;
            box-shadow: 
                0 0 10px rgba(6, 182, 212, 0.3),
                inset 0 0 5px rgba(6, 182, 212, 0.2);
        }
        
        .phone:hover .device-frame {
            box-shadow: 
                0 35px 70px rgba(0, 0, 0, 0.5),
                0 15px 30px rgba(0, 0, 0, 0.4),
                0 0 50px rgba(34, 211, 238, 0.6),
                0 0 100px rgba(34, 211, 238, 0.3),
                0 0 150px rgba(6, 182, 212, 0.15);
        }
        
        .phone:hover .device-frame::before {
            opacity: 1;
            animation: neonBorder 1.5s linear infinite;
        }
        
        /* Screen Header - Only on Laptop */
        .screen-header {
            background: rgba(20, 20, 20, 0.95);
            padding: 10px 14px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .browser-dots {
            display: flex;
            gap: 6px;
        }
        
        .browser-dots span {
            width: 11px;
            height: 11px;
            border-radius: 50%;
        }
        
        .browser-dots span:nth-child(1) {
            background: #ff5f57;
        }
        
        .browser-dots span:nth-child(2) {
            background: #febc2e;
        }
        
        .browser-dots span:nth-child(3) {
            background: #28c840;
        }
        
        /* Screen Content with Gradients */
        .screen-content {
            width: 100%;
            height: 100%;
            position: relative;
            background-size: cover;
            background-position: center;
        }
        
        /* ============================================
           UNIQUE SCREEN CONTENT FOR EACH DEVICE
           ============================================ */
        
        /* Laptop - Empty placeholder for template images */
        .gradient-1 {
            background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
            position: relative;
        }
        
        /* Tablet - Empty placeholder for template images */
        .gradient-2 {
            background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
        }
        
        /* Phone - Empty placeholder for template images */
        .gradient-3 {
            background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
        }
        
        
        /* Deploy Particles - Disabled for performance */
        .deploy-particle {
            display: none;
        }
        
        /* Floating Orbs - Simplified for performance */
        .teal-orb {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 15;
        }
        
        /* Silver orb - laptop area */
        .orb-1 {
            width: 12px;
            height: 12px;
            top: -5%;
            left: 35%;
            background: rgba(230, 230, 230, 0.95);
            box-shadow: 0 0 20px rgba(220, 220, 220, 0.7);
            animation: orbFloat1 6s ease-in-out infinite;
        }
        
        /* Rose gold orb - tablet area */
        .orb-2 {
            width: 14px;
            height: 14px;
            bottom: 5%;
            right: -2%;
            background: rgba(255, 200, 180, 0.95);
            box-shadow: 0 0 20px rgba(249, 115, 22, 0.6);
            animation: orbFloat2 7s ease-in-out infinite 1s;
        }
        
        /* Pink orb - tablet area */
        .orb-3 {
            width: 10px;
            height: 10px;
            bottom: 60%;
            right: -5%;
            background: rgba(255, 100, 180, 0.9);
            box-shadow: 0 0 18px rgba(236, 72, 153, 0.7);
            animation: orbFloat1 5s ease-in-out infinite 0.5s;
        }
        
        /* Cyan orb - phone area */
        .orb-4 {
            width: 12px;
            height: 12px;
            bottom: 70%;
            left: -3%;
            background: rgba(34, 211, 238, 1);
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.8);
            animation: orbFloat2 5s ease-in-out infinite 2s;
        }
        
        /* Teal orb - phone area */
        .orb-5 {
            width: 9px;
            height: 9px;
            bottom: 20%;
            left: -5%;
            background: rgba(20, 184, 166, 1);
            box-shadow: 0 0 18px rgba(20, 184, 166, 0.8);
            animation: orbFloat1 4s ease-in-out infinite 1.5s;
        }
        
        /* Silver orb - laptop area */
        .orb-6 {
            width: 10px;
            height: 10px;
            top: -8%;
            left: 75%;
            background: rgba(240, 240, 240, 0.95);
            box-shadow: 0 0 18px rgba(220, 220, 220, 0.7);
            animation: orbFloat2 6s ease-in-out infinite 0.8s;
        }
        
        @keyframes orbFloat1 {
            0%, 100% { transform: translateY(0); opacity: 0.85; }
            50% { transform: translateY(-15px); opacity: 1; }
        }
        
        @keyframes orbFloat2 {
            0%, 100% { transform: translateY(0); opacity: 0.8; }
            50% { transform: translateY(-20px); opacity: 1; }
        }
        
        /* Launch Trails - Removed */
        .launch-trail {
            display: none;
        }

        .showcase-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            animation: floatIn 0.8s ease-out backwards;
            animation-delay: var(--delay);
            border: 1px solid rgba(13, 148, 136, 0.2);
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .showcase-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        @keyframes floatIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .card-header {
            padding: 1rem;
            background: var(--bg-tertiary);
        }

        .browser-dots {
            display: flex;
            gap: 0.5rem;
        }

        .browser-dots span {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
        }

        [data-theme="light"] .browser-dots span:nth-child(1) {
            background: #ff5f56;
        }

        [data-theme="light"] .browser-dots span:nth-child(2) {
            background: #ffbd2e;
        }

        [data-theme="light"] .browser-dots span:nth-child(3) {
            background: #27c93f;
        }

        .card-preview {
            height: 200px;
            overflow: hidden;
        }

        .preview-gradient {
            width: 100%;
            height: 100%;
        }

        .hero-background {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 0;
            overflow: hidden;
        }

        .bg-gradient {
            display: none;
        }

        .bg-gradient-1 {
            width: 600px;
            height: 600px;
            background: var(--gradient-1);
            top: -200px;
            right: -100px;
            animation-delay: 0s;
        }

        .bg-gradient-2 {
            width: 500px;
            height: 500px;
            background: var(--gradient-2);
            bottom: -150px;
            left: -100px;
            animation-delay: 2s;
        }

        .bg-grid {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(var(--gray-light) 1px, transparent 1px),
                              linear-gradient(90deg, var(--gray-light) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.1;
        }

        /* Section Styles */
        section {
            padding: 8rem 0;
        }

        .section-header {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 5rem;
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .section-description {
            font-size: 1.2rem;
            color: var(--text-secondary);
        }

        /* Templates Section */
        .templates-section {
            background: transparent;
        }

        .filter-bar {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
        }

        .filter-btn {
            padding: 0.75rem 1.5rem;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 50px;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .template-card {
            background: rgba(24, 24, 27, 0.6);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow), inset 0 1px 1px rgba(255, 255, 255, 0.1);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease, border-color 0.3s ease, background 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }
        
        [data-theme="light"] .template-card {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: var(--shadow), inset 0 1px 1px rgba(255, 255, 255, 0.5);
        }

        .template-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(13, 148, 136, 0.15);
            border-color: var(--primary);
        }

        .template-image {
            position: relative;
            height: 300px;
            background: var(--gradient-1);
            overflow: hidden;
        }
        
        .template-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
            transition: left 0.5s ease;
            pointer-events: none;
        }
        
        .template-card:hover .template-image::after {
            left: 150%;
        }

        .template-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .template-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.3) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .template-card:hover .template-overlay {
            opacity: 1;
        }
        
        .template-overlay .btn {
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .template-card:hover .template-overlay .btn {
            transform: translateY(0);
            opacity: 1;
        }
        
        .template-card:hover .template-overlay .btn:nth-child(2) {
            transition-delay: 0.1s;
        }

        .template-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1rem;
            background: var(--accent);
            color: var(--white);
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-new {
            background: var(--secondary);
        }

        .template-info {
            padding: 1.5rem;
            background: transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .template-info::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 30% 30%, rgba(20, 184, 166, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, rgba(20, 184, 166, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
            z-index: 0;
        }
        
        .template-card:hover .template-info::after {
            opacity: 1;
        }
        
        .template-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(20, 184, 166, 0.5), rgba(20, 184, 166, 0.3), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }
        
        .template-card:hover .template-info::before {
            opacity: 1;
        }
        
        .template-info > * {
            position: relative;
            z-index: 2;
        }
        
        [data-theme="light"] .template-info::after {
            background: radial-gradient(circle at 30% 30%, rgba(20, 184, 166, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
        }

        .template-category {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .template-title {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .template-description {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .template-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .tag {
            padding: 0.25rem 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .template-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
            gap: 1rem;
        }
        
        .template-actions {
            display: flex;
            gap: 0.5rem;
        }

        .template-price {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .price-original {
            font-size: 1rem;
            color: var(--text-muted);
            text-decoration: line-through;
        }

        .price-current {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary);
        }

        .templates-cta {
            text-align: center;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .templates-cta a {
            color: var(--primary);
            font-weight: 600;
        }

        /* Features Section */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
        }

        .feature-card {
            padding: 2rem;
            background: rgba(10, 10, 10, 0.75);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: var(--border-radius-lg);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(20, 184, 166, 0.2);
        }
        
        [data-theme="light"] .feature-card {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            border-color: rgba(20, 184, 166, 0.4);
        }
        
        [data-theme="light"] .feature-card:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            border-color: rgba(13, 148, 136, 0.4);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: var(--bg-tertiary);
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        /* Pricing Section */
        .pricing-section {
            background: var(--bg-secondary);
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .pricing-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 2px solid var(--border-color);
            transition: var(--transition);
            position: relative;
        }

        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        .pricing-card.featured {
            border-color: var(--primary);
            background: var(--gradient-1);
            color: white;
            transform: scale(1.05);
        }

        .pricing-card.featured:hover {
            transform: scale(1.05) translateY(-5px);
        }

        .pricing-card.featured * {
            color: white;
        }

        .pricing-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.5rem 1rem;
            background: var(--accent);
            color: var(--white);
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .pricing-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .pricing-header h3 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .pricing-header p {
            color: var(--text-secondary);
        }

        .pricing-card.featured .pricing-header p {
            color: rgba(255, 255, 255, 0.9);
        }

        .pricing-price {
            text-align: center;
            margin-bottom: 2rem;
        }

        .price-original {
            font-size: 1.25rem;
            color: var(--text-muted);
            text-decoration: line-through;
            margin-bottom: 0.5rem;
        }

        .pricing-card.featured .price-original {
            color: rgba(255, 255, 255, 0.7);
        }

        .price-current {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1;
        }

        .currency {
            font-size: 2rem;
        }

        .price-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .pricing-card.featured .price-label {
            color: rgba(255, 255, 255, 0.9);
        }

        .pricing-features {
            margin-bottom: 2rem;
        }

        .pricing-features li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .pricing-card.featured .pricing-features li {
            border-bottom-color: rgba(255, 255, 255, 0.2);
        }

        .pricing-features li:last-child {
            border-bottom: none;
        }

        .pricing-features svg {
            color: var(--secondary);
            flex-shrink: 0;
        }

        /* Showcase Section */
        .showcase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .showcase-item {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: rgba(10, 10, 10, 0.75);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(20, 184, 166, 0.2);
        }
        
        [data-theme="light"] .showcase-item {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .showcase-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            border-color: rgba(20, 184, 166, 0.4);
        }
        
        [data-theme="light"] .showcase-item:hover {
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            border-color: rgba(13, 148, 136, 0.4);
        }

        .showcase-image {
            height: 250px;
            background: var(--bg-tertiary);
        }

        .showcase-placeholder {
            width: 100%;
            height: 100%;
            background: var(--gradient-1);
        }

        .showcase-info {
            padding: 1.5rem;
        }

        .showcase-info h4 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }

        .showcase-info p {
            color: var(--text-secondary);
        }

        /* CTA Section */
        .cta-section {
            background: rgba(10, 10, 10, 0.9);
            border: 2px solid transparent;
            border-image: var(--gradient-1) 1;
            color: white;
            text-align: center;
            padding: 6rem 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-1);
            opacity: 0.1;
            z-index: 0;
        }
        
        .cta-content {
            position: relative;
            z-index: 1;
        }
        
        [data-theme="light"] .cta-section {
            background: rgba(255, 255, 255, 0.6);
            color: var(--text-primary);
        }

        .cta-content h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: white;
        }
        
        [data-theme="light"] .cta-content h2 {
            color: var(--text-primary);
        }

        .cta-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Footer */
        .footer {
            background: #0a0a0a;
            color: var(--text-primary);
            padding: 4rem 0 2rem;
            border-top: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }
        
        [data-theme="light"] .footer {
            background: #f8f8f8;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-logo {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-primary);
        }

        .footer-column p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-links a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            color: var(--text-primary);
        }

        .social-links a:hover {
            background: var(--primary);
            color: white;
        }

        .footer-column h4 {
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .footer-column ul li {
            margin-bottom: 0.75rem;
        }

        .footer-column ul li a {
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .footer-column ul li a:hover {
            color: var(--primary);
        }

        .footer-bottom {
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-muted);
        }

        .footer-links {
            display: flex;
            gap: 3rem;
        }

        .footer-links a {
            color: var(--text-muted);
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        /* Responsive Design */
        @media (max-width: 968px) {
            .hero .container {
                grid-template-columns: 1fr;
            }
            
            .hero-visual {
                order: -1;
            }
            
            .template-showcase {
                transform: none;
            }
            
            .footer-content {
                grid-template-columns: 1fr 1fr;
            }
            
            .pricing-card.featured {
                transform: scale(1);
            }
            
            .pricing-card.featured:hover {
                transform: translateY(-5px);
            }
        }

        @media (max-width: 768px) {
            .nav-cta {
                display: none;
            }
            
            .nav-links {
                display: flex;
                position: fixed;
                top: 0;
                right: -100%;
                height: 100vh;
                width: 80%;
                max-width: 300px;
                background: var(--bg-primary);
                flex-direction: column;
                padding: 6rem 2rem 2rem;
                gap: 3rem;
                box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
                transition: right 0.3s ease;
                z-index: 1000;
                overflow-y: auto;
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .nav-links li {
                width: 100%;
            }
            
            .nav-links a {
                display: block;
                padding: 1rem;
                font-size: 1.1rem;
            }
            
            .mobile-menu-toggle {
                display: flex;
            }
            
            .logo {
                font-size: 1.2rem;
                margin: -15px -2rem -15px -2rem;
            }
            
            .logo-image {
                width: 80px;
                height: 80px;
            }
            
            .navbar .container {
                gap: 0.5rem;
            }
            
            .nav-search-wrapper {
                display: none;
            }
            
            .hero-title {
                font-size: 2.5rem;
            }
            
            .hero-description {
                font-size: 1.1rem;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .cta-content h2 {
                font-size: 2rem;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* ============================================
           MODAL, DASHBOARD & AUTH STYLES
           ============================================ */

        /* Page routing */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* Modal Overlay */
        .modal-overlay {
            position: fixed;
            top: -2px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 1rem;
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .modal {
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-radius: var(--border-radius-lg);
            padding: 2.5rem;
            max-width: 450px;
            width: 100%;
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
            position: relative;
            animation: slideUpModal 0.3s ease-out;
            border: 1px solid rgba(20, 184, 166, 0.2);
            margin-top: -1px;
        }
        
        /* Light mode glassmorphism for modal */
        [data-theme="light"] .modal {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            transition: var(--transition);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: var(--text-primary);
            background: var(--card-hover);
        }

        .modal h2 {
            margin-bottom: 0.5rem;
            font-size: 1.75rem;
        }

        .modal > p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.85rem 1rem;
            border-radius: var(--border-radius);
            border: 2px solid var(--border-color);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition);
            font-family: inherit;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--bg-secondary);
        }

        .form-error {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.75rem;
            padding: 0.5rem;
            background: rgba(239, 68, 68, 0.1);
            border-radius: var(--border-radius);
            display: none;
        }

        .form-error.active {
            display: block;
        }

        .form-link {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .form-link a {
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .form-link a:hover {
            color: var(--primary-light);
            text-decoration: underline;
        }

        /* Dashboard */
        .dashboard {
            padding: 8rem 0 4rem;
            min-height: 100vh;
        }

        .dashboard-header {
            margin-bottom: 3rem;
            text-align: center;
        }

        .dashboard-header h1 {
            font-size: 2.75rem;
            margin-bottom: 0.75rem;
        }

        .dashboard-header p {
            color: var(--text-secondary);
            font-size: 1.15rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .dashboard-card {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .dashboard-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        .card-image {
            height: 220px;
            background: var(--gradient-1);
            position: relative;
            overflow: hidden;
        }

        .card-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.4rem 0.8rem;
            background: rgba(255, 255, 255, 0.95);
            color: var(--primary);
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-content {
            padding: 1.75rem;
        }

        .card-content h3 {
            margin-bottom: 0.5rem;
            font-size: 1.35rem;
        }

        .card-content p {
            color: var(--text-secondary);
            margin-bottom: 1.25rem;
            font-size: 0.925rem;
            line-height: 1.6;
        }

        .card-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.25rem;
            flex-wrap: wrap;
        }

        .card-meta-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .card-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .empty-state {
            text-align: center;
            padding: 5rem 2rem;
            grid-column: 1 / -1;
        }

        .empty-state-icon {
            font-size: 5rem;
            margin-bottom: 1.5rem;
            opacity: 0.4;
        }

        .empty-state h3 {
            font-size: 1.75rem;
            margin-bottom: 0.75rem;
        }

        .empty-state p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1.05rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUpModal {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Notification Toast */

        /* Browse Page */
        .browse-page {
            padding: 8rem 0 4rem;
            min-height: 100vh;
        }

        .browse-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .browse-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .browse-header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .browse-controls {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box .search-suggestions {
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            right: 0;
        }

        .search-box svg {
            position: absolute;
            left: 1rem;
            color: var(--text-muted);
        }

        .search-box input {
            width: 100%;
            padding: 0.875rem 1rem 0.875rem 3rem;
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid rgba(20, 184, 166, 0.2);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-size: 1rem;
            transition: var(--transition);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
        }
        
        /* Light mode glassmorphism for search box input */
        [data-theme="light"] .search-box input {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.1);
        }

        .filter-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 0.875rem 1.25rem;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.2),
                inset 0 1px 1px rgba(20, 184, 166, 0.1);
        }
        
        [data-theme="light"] .filter-select {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.05),
                inset 0 1px 1px rgba(13, 148, 136, 0.1);
        }

        .filter-select:hover {
            border-color: var(--primary);
            box-shadow: 
                0 4px 20px rgba(20, 184, 166, 0.15),
                inset 0 1px 1px rgba(20, 184, 166, 0.1);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.15);
        }
        
        .filter-select option {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .loading-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 4rem 2rem;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top-color: var(--primary);
            border-radius: 50%;
            margin: 0 auto 1rem;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-state p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Load More Button */
        .load-more-container {
            display: flex;
            justify-content: center;
            margin-top: 3rem;
        }
        
        .load-more-container .btn {
            min-width: 250px;
            transition: all 0.3s ease;
        }
        
        .load-more-container .btn.back-to-top {
            background: var(--card-bg);
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .load-more-container .btn.back-to-top:hover {
            background: var(--primary);
            color: white;
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        /* Template Detail Page */
        .template-detail {
            padding: 8rem 0 4rem;
            min-height: 100vh;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 2rem;
        }

        .back-btn:hover {
            border-color: var(--primary);
            background: var(--primary);
            color: #ffffff;
        }

        .detail-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-bottom: 4rem;
            align-items: start;
        }

        .detail-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: var(--accent);
            color: #ffffff;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .detail-category {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }

        .detail-title {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .detail-description {
            font-size: 1.2rem;
            color: var(--text-secondary);
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .detail-meta {
            display: flex;
            gap: 3rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .meta-item svg {
            color: var(--primary);
        }

        .detail-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .detail-price {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
        }

        .price-label {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .detail-preview {
            position: sticky;
            top: 100px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
        }

        .detail-preview-image {
            width: 100%;
            height: 500px;
            background: var(--gradient-1);
        }

        .detail-section {
            margin-bottom: 4rem;
        }

        .detail-section h2 {
            font-size: 2rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .feature-item {
            display: flex;
            align-items: start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .feature-item:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gradient-1);
            border-radius: var(--border-radius);
            color: #ffffff;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .feature-content h4 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .feature-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .screenshots-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 3rem;
        }

        .screenshot-item {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .screenshot-item:hover {
            transform: scale(1.02);
            border-color: var(--primary);
            box-shadow: var(--shadow-xl);
        }

        .screenshot-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .included-list {
            display: grid;
            gap: 1.5rem;
        }

        .included-item {
            display: flex;
            align-items: start;
            gap: 1.5rem;
            padding: 2rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
        }

        .included-item svg {
            color: var(--primary);
            flex-shrink: 0;
            margin-top: 0.25rem;
        }

        .included-item h4 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .included-item p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .tech-stack {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .tech-item {
            padding: 1rem 1.5rem;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-weight: 600;
            color: var(--text-primary);
            transition: var(--transition);
        }

        .tech-item:hover {
            border-color: var(--primary);
            background: var(--primary);
            color: #ffffff;
        }

        /* Notification Toast */
        .notification {
            position: fixed;
            top: 100px;
            right: 24px;
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius-lg);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                inset 0 1px 1px rgba(20, 184, 166, 0.1),
                0 0 40px rgba(20, 184, 166, 0.05);
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
            max-width: 400px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(10, 10, 10, 0.7); /* Exact match */
            backdrop-filter: blur(20px) saturate(180%); /* Exact match */
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(20, 184, 166, 0.2);
        }
        
        /* Light mode glassmorphism for notifications */
        [data-theme="light"] .notification {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(13, 148, 136, 0.2);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.08),
                inset 0 1px 1px rgba(13, 148, 136, 0.1),
                0 0 40px rgba(13, 148, 136, 0.03);
        }

        .notification.success {
            border-left: 4px solid #14B8A6;
            color: var(--text-primary);
        }

        .notification.success::before {
            content: '';
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #14B8A6;
            color: white;
            font-weight: 700;
        }

        .notification.error {
            border-left: 4px solid #F97316;
            color: var(--text-primary);
        }

        .notification.error::before {
            content: '';
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #F97316;
            color: white;
            font-weight: 700;
        }

        .notification.info {
            border-left: 4px solid #06B6D4;
            color: var(--text-primary);
        }

        .notification.info::before {
            content: '';
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #06B6D4;
            color: white;
            font-weight: 700;
        }


        @keyframes slideInRight {
            from {
                transform: translateX(120%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ============================================
           MOBILE OPTIMIZATIONS - COMPREHENSIVE
           ============================================ */
        
        @media (max-width: 1024px) {
            /* Container - reduce padding on mobile */
            .container {
                padding: 0 1.5rem;
            }
            
            /* Disable heavy animations on mobile for performance */
            .device-mockup,
            .device-group,
            .floating-device,
            .laptop,
            .tablet,
            .phone {
                animation: none !important;
                transform: none !important;
            }
            
            /* Navigation - Mobile Optimization */
            .navbar {
                padding: 1rem 1.5rem;
            }
            
            .navbar-brand {
                font-size: 1.25rem;
            }
            
            .navbar-menu {
                display: none; /* Hide desktop menu on mobile */
            }
            
            .navbar-actions {
                gap: 0.75rem;
            }
            
            .navbar-actions .btn {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
            
            /* Remove margin on mobile since sidebar is overlay */
            .main-content {
                margin-left: 0 !important;
            }
            
            /* Hero Section - Mobile Optimization */
            .hero {
                padding: 4rem 0 3rem;
                min-height: auto;
            }
            
            .hero-content {
                text-align: center;
                margin-bottom: 2rem;
            }
            
            .hero-content h1 {
                font-size: 2rem;
                line-height: 1.2;
                margin-bottom: 1rem;
            }
            
            .hero-content .hero-subtitle {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .hero-cta {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .hero-cta .btn {
                width: 100%;
                justify-content: center;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 1rem;
                margin-top: 2rem;
            }
            
            .stat-item h3 {
                font-size: 1.75rem;
            }
            
            .stat-item p {
                font-size: 0.875rem;
            }
            
            /* Hide or simplify hero devices on mobile */
            .hero-visual {
                display: none; /* Completely hide on mobile for performance */
            }
            
            /* Template Grid - Mobile Optimization */
            .templates-grid {
                grid-template-columns: 1fr !important;
                gap: 1.5rem;
            }
            
            /* Template Card - Mobile Optimization */
            .template-card {
                max-width: 100%;
            }
            
            .template-card-image {
                height: 200px;
            }
            
            .template-card-content {
                padding: 1rem;
            }
            
            .template-card-title {
                font-size: 1.125rem;
            }
            
            .template-card-description {
                font-size: 0.875rem;
            }
            
            .template-card-footer {
                flex-direction: column;
                gap: 0.75rem;
                align-items: stretch;
            }
            
            .template-card-price {
                font-size: 1.25rem;
            }
            
            .template-card-footer .btn {
                width: 100%;
                justify-content: center;
            }
            
            /* Filters - Mobile Optimization */
            .filters {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .filters select,
            .filters input {
                width: 100%;
            }
            
            /* Section Headers - Mobile */
            .section-header h2 {
                font-size: 1.75rem;
            }
            
            .section-header p {
                font-size: 0.9375rem;
            }
            
            /* Categories Grid - Mobile */
            .categories-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1rem;
            }
            
            .category-card {
                padding: 1.5rem 1rem;
            }
            
            .category-icon {
                font-size: 2rem;
                margin-bottom: 0.75rem;
            }
            
            .category-card h3 {
                font-size: 1rem;
            }
            
            .category-card p {
                font-size: 0.8125rem;
            }
            
            /* Features Grid - Mobile */
            .features-grid {
                grid-template-columns: 1fr !important;
                gap: 1.5rem;
            }
            
            .feature-card {
                padding: 1.5rem;
            }
            
            /* Modal - Mobile Optimization */
            .modal {
                padding: 1rem;
            }
            
            .modal-content {
                width: 95%;
                max-width: 95%;
                margin: 1rem;
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .modal-header {
                padding: 1rem;
            }
            
            .modal-title {
                font-size: 1.25rem;
            }
            
            .modal-body {
                padding: 1rem;
            }
            
            .modal-footer {
                padding: 1rem;
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .modal-footer .btn {
                width: 100%;
            }
            
            /* Cart Modal - Mobile Optimization */
            .cart-modal {
                width: 100%;
                max-width: 100%;
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
                right: -100%;
            }
            
            .cart-modal.active {
                right: 0;
            }
            
            .cart-modal-header,
            .cart-modal-body,
            .cart-modal-footer {
                padding: 1rem;
            }
            
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .cart-item-image {
                width: 100%;
                height: 150px;
            }
            
            .cart-item-info {
                width: 100%;
            }
            
            .cart-item-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            /* Forms - Mobile Optimization */
            .form-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
            }
            
            .form-group label {
                font-size: 0.875rem;
            }
            
            .form-input,
            .form-select,
            .form-textarea {
                font-size: 1rem; /* Prevent zoom on iOS */
            }
            
            /* Auth Forms - Mobile */
            .auth-container {
                padding: 2rem 1rem;
            }
            
            .auth-card {
                padding: 1.5rem;
                width: 100%;
            }
            
            /* Dashboard - Mobile */
            .dashboard-header h1 {
                font-size: 2rem;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
            }
            
            .dashboard-card {
                padding: 1.25rem;
            }
            
            .stat-card-value {
                font-size: 1.75rem;
            }
            
            /* Admin Panel - Mobile */
            .admin-section {
                padding: 1.5rem;
            }
            
            .admin-header h2 {
                font-size: 1.5rem;
            }
            
            .admin-grid {
                grid-template-columns: 1fr !important;
            }
            
            /* Tables - Mobile (make scrollable) */
            .table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            table {
                min-width: 600px;
            }
            
            /* Footer - Mobile */
            .footer {
                padding: 2rem 0;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 2rem;
                text-align: center;
            }
            
            .footer-section {
                width: 100%;
            }
            
            .footer-links {
                justify-content: center;
            }
            
            /* Typography - Mobile adjustments */
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            h3 { font-size: 1.5rem; }
            h4 { font-size: 1.25rem; }
            
            /* Reduce spacing on mobile */
            .section {
                padding: 3rem 0;
            }
            
            /* Badge sizes */
            .badge {
                font-size: 0.75rem;
                padding: 0.25rem 0.5rem;
            }
            
            /* Button groups */
            .btn-group {
                flex-direction: column;
                width: 100%;
            }
            
            .btn-group .btn {
                width: 100%;
                border-radius: var(--border-radius) !important;
                margin: 0 0 0.5rem 0;
            }
            
            /* Tabs - Mobile */
            .tabs {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .tab {
                white-space: nowrap;
                font-size: 0.875rem;
                padding: 0.75rem 1rem;
            }
            
            /* Notifications - Mobile */
            .notification {
                right: 1rem;
                left: 1rem;
                max-width: none;
            }
            
            /* Performance - Reduce shadows on mobile */
            .template-card,
            .category-card,
            .feature-card,
            .dashboard-card {
                box-shadow: var(--shadow-sm) !important;
            }
            
            /* Hover states - Disable on mobile */
            .template-card:hover,
            .category-card:hover,
            .feature-card:hover {
                transform: none !important;
            }
        }
        
        /* Small Mobile Devices (phones < 480px) */
        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }
            
            .navbar {
                padding: 0.75rem 1rem;
            }
            
            .hero-content h1 {
                font-size: 1.75rem;
            }
            
            .categories-grid {
                grid-template-columns: 1fr !important;
            }
            
            .template-card-image {
                height: 180px;
            }
            
            h1 { font-size: 1.75rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.25rem; }
            
            .section {
                padding: 2rem 0;
            }
        }

        /* ============================================
           MOBILE OPTIMIZATIONS
           ============================================ */
        
        .mobile-bottom-nav {
            display: none;
        }
        
        @media (max-width: 1024px) {
            /* Mobile Bottom Nav */
            .mobile-bottom-nav {
                display: flex;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                height: 70px;
                background: rgba(10, 10, 10, 0.85);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border-top: 1px solid rgba(20, 184, 166, 0.2);
                z-index: 999;
                justify-content: space-around;
                align-items: center;
                padding: 0.5rem 1rem;
                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
            }
            
            /* Light mode glassmorphism for mobile nav */
            [data-theme="light"] .mobile-bottom-nav {
                background: rgba(255, 255, 255, 0.85);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border-top: 1px solid rgba(13, 148, 136, 0.2);
                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
            }
            
            .mobile-nav-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 0.25rem;
                flex: 1;
                cursor: pointer;
                transition: var(--transition);
                position: relative;
                padding: 0.5rem;
            }
            
            .mobile-nav-item svg {
                width: 24px;
                height: 24px;
                stroke: var(--text-muted);
                transition: var(--transition);
            }
            
            .mobile-nav-item span {
                font-size: 0.6875rem;
                color: var(--text-muted);
                transition: var(--transition);
                font-weight: 500;
            }
            
            .mobile-nav-item.active svg {
                stroke: var(--primary);
            }
            
            .mobile-nav-item.active span {
                color: var(--primary);
            }
            
            .mobile-nav-badge {
                position: absolute;
                top: 0.25rem;
                right: 0.75rem;
                background: var(--accent);
                color: white;
                font-size: 0.625rem;
                font-weight: 700;
                padding: 0.125rem 0.375rem;
                border-radius: 10px;
                min-width: 18px;
                text-align: center;
            }
            
            /* Add padding for bottom nav */
            body {
                padding-bottom: 70px;
            }
            
            /* Hide desktop nav on mobile */
            .navbar {
                display: none;
            }
            
            .sidebar {
                display: none;
            }
            
            .main-content {
                margin-left: 0 !important;
            }
            
            /* Mobile layout fixes */
            .container {
                padding: 0 1.5rem;
            }
            
            .hero {
                padding: 4rem 0 3rem;
            }
            
            .hero-visual {
                display: none;
            }
            
            .templates-grid {
                grid-template-columns: 1fr !important;
            }
            
            .template-card-footer {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .template-card-footer .btn {
                width: 100%;
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .features-grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
    <!-- Gumroad Overlay Script -->
    <script src="https://gumroad.com/js/gumroad.js"></script>
</head>
<body>
    <script>
        // Loading bar animation
        (function() {
            let progress = 0;
            let interval;
            
            function updateProgress(value) {
                progress = Math.min(value, 100);
                document.documentElement.style.setProperty('--load-progress', progress + '%');
            }
            
            // Simulate smooth progress
            interval = setInterval(() => {
                if (progress < 30) {
                    updateProgress(progress + 3);
                } else if (progress < 60) {
                    updateProgress(progress + 2);
                } else if (progress < 85) {
                    updateProgress(progress + 0.5);
                }
            }, 50);
            
            // Jump to 90% when DOM ready
            document.addEventListener('DOMContentLoaded', () => {
                updateProgress(90);
            });
            
            // Complete on full load
            window.addEventListener('load', () => {
                clearInterval(interval);
                updateProgress(100);
                setTimeout(() => {
                    const navbar = document.querySelector('.navbar');
                    if (navbar) {
                        navbar.classList.remove('loading');
                        navbar.classList.add('loaded');
                    }
                }, 100);
            });
        })();
    </script>
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
    
    <!-- Left Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-content">

            <!-- Quick Filters -->
            <div class="sidebar-section">
                <div class="sidebar-section-title">Quick Filters</div>
                <div class="sidebar-menu">
                    <a class="sidebar-menu-item" onclick="filterTemplates('new')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <span>New Releases</span>
                        <span class="badge">12</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterTemplates('popular')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        <span>Popular</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterTemplates('premium')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                        </svg>
                        <span>Premium</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterTemplates('free')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"/>
                            <path d="M4 6v12c0 1.1.9 2 2 2h14v-4"/>
                            <line x1="2" y1="12" x2="22" y2="12"/>
                        </svg>
                        <span>Free Templates</span>
                    </a>
                </div>
            </div>

            <!-- Categories -->
            <div class="sidebar-section">
                <div class="sidebar-menu">
                    <a class="sidebar-menu-item" onclick="filterByCategory('all')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                        <span>All Templates</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('saas')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <path d="M8 21h8M12 17v4"/>
                        </svg>
                        <span>SaaS & Software</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('startup')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/>
                            <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
                            <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/>
                        </svg>
                        <span>Startup & Tech</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('landing')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                        <span>Landing Pages</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('portfolio')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21 15 16 10 5 21"/>
                        </svg>
                        <span>Portfolio & Creative</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('agency')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span>Agency & Studio</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('business')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                        </svg>
                        <span>Business & Corporate</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('ecommerce')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"/>
                            <circle cx="20" cy="21" r="1"/>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                        </svg>
                        <span>E-commerce & Retail</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('blog')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                        </svg>
                        <span>Blog & Magazine</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('restaurant')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8h1a4 4 0 0 1 0 8h-1"/>
                            <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                            <line x1="6" y1="1" x2="6" y2="4"/>
                            <line x1="10" y1="1" x2="10" y2="4"/>
                            <line x1="14" y1="1" x2="14" y2="4"/>
                        </svg>
                        <span>Restaurant & Food</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('healthcare')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                        <span>Healthcare & Medical</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('realestate')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                        <span>Real Estate</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('education')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 10v6M2 10l10-5 10 5-10 5z"/>
                            <path d="M6 12v5c3 3 9 3 12 0v-5"/>
                        </svg>
                        <span>Education & Courses</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('events')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        <span>Events & Entertainment</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('travel')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                        </svg>
                        <span>Travel & Hospitality</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('finance')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="1" x2="12" y2="23"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                        <span>Finance & Fintech</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('fitness')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"/>
                            <line x1="16" y1="8" x2="2" y2="22"/>
                            <line x1="17.5" y1="15" x2="9" y2="15"/>
                        </svg>
                        <span>Fitness & Wellness</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('nft')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                        </svg>
                        <span>NFT & Web3</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('photography')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                            <circle cx="12" cy="13" r="4"/>
                        </svg>
                        <span>Photography & Video</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="filterByCategory('nonprofit')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                        </svg>
                        <span>Non-profit & Charity</span>
                    </a>
                </div>
            </div>

            <!-- My Account (shown when logged in) -->
            <div class="sidebar-section" id="sidebarAccountSection" style="display: none;">
                <div class="sidebar-section-title">My Account</div>
                <div class="sidebar-menu">
                    <a class="sidebar-menu-item" onclick="navigateTo('dashboard')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                        <span>My Library</span>
                    </a>
                    <a class="sidebar-menu-item" onclick="navigateTo('dashboard')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6"/>
                            <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"/>
                            <path d="M1 12h6m6 0h6"/>
                            <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"/>
                        </svg>
                        <span>Settings</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar loading" id="navbar">
        <div class="container">
            <!-- Sidebar Toggle -->
            <button class="sidebar-toggle" onclick="toggleSidebar()" id="sidebarToggle" aria-label="Toggle sidebar">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <a href="#" onclick="navigateTo('home'); return false;" class="logo">
                <span class="logo-text"><img src="https://raw.githubusercontent.com/goldstargamingtv-droid/TemplatesWebsite/main/logo.png" alt="Logo" style="width: 42px; height: 42px; margin: 0 0.25rem 0 2.375rem; vertical-align: middle; position: relative; top: 6px;" /><span class="logo-text-deploy">Deploy</span><span class="logo-text-template"><span class="logo-text-template-inner"><span>T</span><span>e</span><span>m</span><span>p</span><span>l</span><span>a</span><span>t</span><span>e</span></span><span class="logo-text-template-cursor"></span></span></span>
            </a>
            
            <!-- Navbar Search -->
            <div class="nav-search-wrapper">
                <div class="nav-search">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" id="navSearch" placeholder="Search templates..." autocomplete="off">
                </div>
                <div class="search-suggestions" id="navSearchSuggestions"></div>
            </div>
            
            <ul class="nav-links" id="navLinks">
                <li><a href="#templates" onclick="event.preventDefault(); scrollToSection('templates');">Templates</a></li>
                <li><a href="#features" onclick="event.preventDefault(); scrollToSection('features');">Features</a></li>
                <li><a href="#showcase" onclick="event.preventDefault(); scrollToSection('showcase');">Showcase</a></li>
                <li><a href="#pricing" onclick="event.preventDefault(); scrollToSection('pricing');">Pricing</a></li>
                <li>
                    <div class="cart-icon-wrapper" onmouseenter="showCartDropdown()" onmouseleave="hideCartDropdown()">
                        <div class="cart-icon-container" onclick="toggleCartModal(); event.stopPropagation();">
                            <svg class="cart-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <!-- Shopping bag icon -->
                                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <line x1="3" y1="6" x2="21" y2="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 10a4 4 0 0 1-8 0" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span class="cart-badge" id="cartBadge" style="display: none;">0</span>
                        </div>
                        
                        <!-- Cart Dropdown -->
                        <div class="cart-dropdown" id="cartDropdown">
                            <div class="cart-dropdown-header">Shopping Cart</div>
                            <div id="cartDropdownItems">
                                <div class="cart-empty">
                                    <div class="cart-empty-icon"></div>
                                    <div class="cart-empty-text">Your cart is empty</div>
                                    <div class="cart-empty-subtext">Any templates you add to your cart will be displayed here.</div>
                                </div>
                            </div>
                            <div id="cartDropdownFooter" style="display: none;">
                                <div class="cart-total">
                                    <span>Total:</span>
                                    <span id="cartDropdownTotal">$0</span>
                                </div>
                                <div class="cart-actions">
                                    <button class="btn btn-secondary btn-block" onclick="toggleCartModal();">View Full Cart</button>
                                    <button class="btn btn-primary btn-block" onclick="proceedToCheckout();">Checkout</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="nav-cta" id="navCta">
                <!-- Buttons added by JavaScript -->
            </div>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Main Content Wrapper -->
    <div class="main-content">

    <!-- HOME PAGE SECTION -->
    <div id="homePage" class="page-section active">

    <!-- Hero Section -->
    <section class="hero">
        <!-- Animated Background Elements -->
        <div class="hero-orb hero-orb-1"></div>
        <div class="hero-orb hero-orb-2"></div>
        <div class="hero-orb hero-orb-3"></div>
        
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <span class="badge-dot"></span>
                    New templates added monthly
                </div>
                <h1 class="hero-title">
                    Launch Your Website in
                    <span class="gradient-text">Minutes, Not Months</span>
                </h1>
                <p class="hero-description">
                    Premium, production-ready templates built with modern design principles. 
                    Simply customize, deploy, and start growing your business today.
                </p>
                <div class="hero-buttons">
                    <a href="#templates" class="btn btn-primary btn-lg">
                        Explore Templates
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#preview" class="btn btn-secondary btn-lg">
                        See Live Demo
                    </a>
                </div>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Happy Customers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Premium Templates</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">4.9</div>
                        <div class="stat-label">Average Rating</div>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="device-mockups">
                    <!-- Floating Orbs - Different colors for each device zone -->
                    <!-- Laptop Mockup - Silver MacBook -->
                    <div class="device laptop">
                        <div class="device-frame">
                            <div class="device-screen">
                                <div class="screen-header">
                                    <div class="browser-dots">
                                        <span></span><span></span><span></span>
                                    </div>
                                </div>
                                <div class="screen-content gradient-1"></div>
                            </div>
                        </div>
                        <div class="device-base"></div>
                    </div>
                    
                    <!-- Tablet Mockup -->
                    <div class="device tablet">
                        <div class="device-frame">
                            <div class="device-screen">
                                <div class="screen-content gradient-2"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Phone Mockup -->
                    <div class="device phone">
                        <div class="device-frame">
                            <div class="device-screen">
                                <div class="screen-content gradient-3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-background">
            <div class="bg-gradient bg-gradient-1"></div>
            <div class="bg-gradient bg-gradient-2"></div>
            <div class="bg-grid"></div>
        </div>
    </section>

    <!-- Templates Grid Section -->
    <section class="templates-section" id="templates">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    Choose Your Perfect Template
                </h2>
                <p class="section-description">
                    Each template is carefully crafted with modern design, optimized performance, and mobile-first approach
                </p>
            </div>

            <!-- Search & Filter Bar (from Browse) -->
            <div class="browse-controls">
                <div class="search-box">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" id="templateSearch" placeholder="Search templates..." autocomplete="off">
                    <div class="search-suggestions" id="browseSearchSuggestions"></div>
                </div>

                <div class="filter-group">
                    <select id="categoryFilter" class="filter-select">
                        <option value="all">All Categories</option>
                        <option value="saas">SaaS & Software</option>
                        <option value="startup">Startup & Tech</option>
                        <option value="landing">Landing Pages</option>
                        <option value="portfolio">Portfolio & Creative</option>
                        <option value="agency">Agency & Studio</option>
                        <option value="business">Business & Corporate</option>
                        <option value="ecommerce">E-commerce & Retail</option>
                        <option value="blog">Blog & Magazine</option>
                        <option value="restaurant">Restaurant & Food</option>
                        <option value="healthcare">Healthcare & Medical</option>
                        <option value="realestate">Real Estate</option>
                        <option value="education">Education & Courses</option>
                        <option value="events">Events & Entertainment</option>
                        <option value="travel">Travel & Hospitality</option>
                        <option value="finance">Finance & Fintech</option>
                        <option value="fitness">Fitness & Wellness</option>
                        <option value="nft">NFT & Web3</option>
                        <option value="photography">Photography & Video</option>
                        <option value="nonprofit">Non-profit & Charity</option>
                    </select>

                    <select id="sortFilter" class="filter-select">
                        <option value="newest">Newest First</option>
                        <option value="popular">Most Popular</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                    </select>
                </div>
            </div>

            <!-- Dynamic Templates Grid -->
            <div id="browseTemplatesGrid" class="templates-grid">
                <!-- Templates will be loaded here dynamically -->
                <div class="loading-state">
                    <div class="loader"></div>
                    <p>Loading templates...</p>
                </div>
            </div>

            <!-- Load More / Back to Top Button -->
            <div class="load-more-container" id="loadMoreContainer" style="display: none;">
                <button class="btn btn-primary btn-lg" id="loadMoreBtn" onclick="loadMoreTemplates()">
                    Load More Templates
                </button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section" id="features">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Everything You Need to Succeed</h2>
                <p class="section-description">
                    Our templates come packed with features that help you launch faster and grow bigger
                </p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2"/>
                            <path d="M8 21h8M12 17v4"/>
                        </svg>
                    </div>
                    <h3>Fully Responsive</h3>
                    <p>Every template looks perfect on desktop, tablet, and mobile devices. Your visitors get a great experience everywhere.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <h3>Launch in Minutes</h3>
                    <p>Download, customize your content, and deploy. No complex setup or technical knowledge required.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                        </svg>
                    </div>
                    <h3>Blazing Fast</h3>
                    <p>Optimized code and lightweight design ensures your site loads instantly. Better SEO, better conversions.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M2 12h20"/>
                        </svg>
                    </div>
                    <h3>Easy to Customize</h3>
                    <p>Clean, well-organized code with helpful comments. Change colors, fonts, and content with ease.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                    </div>
                    <h3>Complete Documentation</h3>
                    <p>Step-by-step guides and video tutorials help you get started and customize your template perfectly.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                    </div>
                    <h3>Premium Support</h3>
                    <p>Stuck on something? We're here to help. Email support included with every purchase.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Showcase Section -->
    <section class="showcase-section" id="showcase">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Built with DeployTemplate</h2>
                <p class="section-description">
                    See how businesses are using our templates to create stunning websites
                </p>
            </div>

            <div class="showcase-grid">
                <div class="showcase-item">
                    <div class="showcase-image">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h4>TechFlow Analytics</h4>
                        <p>SaaS Landing Template</p>
                    </div>
                </div>

                <div class="showcase-item">
                    <div class="showcase-image">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h4>Sarah Chen Design</h4>
                        <p>Portfolio Template</p>
                    </div>
                </div>

                <div class="showcase-item">
                    <div class="showcase-image">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h4>Bistro 42</h4>
                        <p>Restaurant Template</p>
                    </div>
                </div>

                <div class="showcase-item">
                    <div class="showcase-image">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h4>FitLife Coaching</h4>
                        <p>SaaS Landing Template</p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Launch Your Website?</h2>
                <p>Join hundreds of businesses who chose DeployTemplate to bring their vision to life</p>
                <div class="cta-buttons">
                    <a href="#templates" class="btn btn-primary btn-lg">Browse Templates</a>
                    <a href="#pricing" class="btn btn-white btn-lg">View Pricing</a>
                </div>
            </div>
        </div>
    </section>


    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Simple, Transparent Pricing</h2>
                <p class="section-description">
                    Launch sale: Get 43% off all templates. Limited time offer!
                </p>
            </div>

            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Single Template</h3>
                        <p>Perfect for one project</p>
                    </div>
                    <div class="pricing-price">
                        <div class="price-original">$69</div>
                        <div class="price-current">
                            <span class="currency">$</span>39
                        </div>
                        <div class="price-label">per template</div>
                    </div>
                    <ul class="pricing-features">
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Complete template files
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Setup documentation
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Lifetime updates
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Commercial license
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Email support
                        </li>
                    </ul>
                    <a href="#templates" class="btn btn-outline btn-block">Choose Template</a>
                </div>

                <div class="pricing-card featured">
                    <div class="pricing-badge">Best Value</div>
                    <div class="pricing-header">
                        <h3>Complete Bundle</h3>
                        <p>All current + future templates</p>
                    </div>
                    <div class="pricing-price">
                        <div class="price-original">$179</div>
                        <div class="price-current">
                            <span class="currency">$</span>99
                        </div>
                        <div class="price-label">one-time payment</div>
                    </div>
                    <ul class="pricing-features">
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            All 15+ templates
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Access to new templates
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Priority email support
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Lifetime updates
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Commercial license
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Video tutorials
                        </li>
                    </ul>
                    <a href="#" class="btn btn-primary btn-block">Get All Templates</a>
                </div>

                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Custom Development</h3>
                        <p>Need something unique?</p>
                    </div>
                    <div class="pricing-price">
                        <div class="price-current" style="font-size: 2.5rem;">
                            Custom
                        </div>
                        <div class="price-label">starting at $299</div>
                    </div>
                    <ul class="pricing-features">
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Template customization
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Brand integration
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Content writing
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Deployment assistance
                        </li>
                        <li>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Dedicated support
                        </li>
                    </ul>
                    <a href="/cdn-cgi/l/email-protection#f5969a9b81949681b58190988599948190939a879290db969a98" class="btn btn-outline btn-block">Contact Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <div class="footer-logo">
                        <img src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAACkkAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAABAAAAAQAAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQUMAAAAABNjb2xybmNseAACAAIAAgAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAClFtZGF0EgAKBxlmf//8IAgyuxQRcAFFFFEgggC0nfjiHvIOv4eEvNs7OVuln1sLPPhhjCo6vHl9cmGUMxMteC4D3ATLx8ZJ7apN6pRYe3yZYk/6TvzchVBdxaWHPNf6zKcjNOHtbsrURWTNxn0oERz9Cs9PyjW/wOcOyvcCylwK0gn3JNfRgBWpwT3fOUNjRMidno5TDaQVZalZnMedoRc6KG0Dmbu7p3bp+MWFAATqqV2q2P9fRSeHOropxPqQXrlYatpOFWqDMviPhREIw7+1xhuM9IEEs4KjzSNAphrdKjS5H8w19mXG9QcsRy4NjqIAO5G/43GRKPX7JC/XfA8T+jpXQ43N2pv5qMs9pdRCp8UgWDJQjtywTSLw2k481zUJ7jJ59cjBtFAnWIY/jf6k/V82v2ybxm1owSRPSp+KBiMj6bmuHhp/pUPbZZd0PwUoDEi+DwEt3l+Bqw7ki6XSTQXWEZYaLcoEm09eeiWZ+R+xzNqZl8MUVOYk4+KTaC4iw2Aeez4swHo9KUsvzrYzuiN6+gyybehNTzZuYxvYEqnUagJDQAzyX9UqpblMEV10dw7KfmuDQrS1342sLzUt5wYraDFIXeCMvVMYTAYN6nDohMaBHbc64WSp41zLWfJRIIboPJXae34XUdnH6e4weK99py5jbq42wR2qHUmfQQIGrJg9HByY7SphglkJPB1flFeYsKk7aAXo+w5BkYrphYwk4beZsdH7Ykak8BVRvFskTes/q5FxTpJ4AhFiykJV5ITgHZ8mg4HErHgyVDNdN4zuZNLxbzlC1Y7CtLSS3gLJV+JDF2fskN20GRBUEv62zjsT8JXDVdm7nWylQAYc061W/2w+5OuUshFvJxbzIhGOifKmMJtM7nniDyEdQNd28P6HyDxIGWXnvBJf6KV2QqDb/HZORa/MC3GNhhWlbsHNUEKx1/O9EtoWqwbtg9deyNzSUP6wsFPf04NRgw894e4TO7S6h2y/kF04+QLPsO7sIM5QWX3E+DL2vYCRWekTRbAv/37jDTRzjvc8AAAAACnI7jFVp88Ugg/9LxVHgaGjh87+YEPGKPwcZJ9hz7tMh+NzbybwfeWBVptq2NvySF9ZmSQg3Fb5G4QG/5qcl39JjBl54mIMUh+SIdXpGe0M/v6yYMS1lH3UEzET6g41szQipa29rFVu3S8IaBLOCTdn11ufohwyVUmRseiBZKNt5DJHbPcLWPU+zvEKx6XybQd5JD6h0oOmM89NayKPOuSf3D8uX7ESrzoWP8csB9QgXR0FPqPxHSSu7jlOyKHVYBjD8Gr2nQfIlFNiM80AfM+A7iKfhnlBZjEKq9V6Pb7fHy5CzPOsrwDiyZNpLgVDi4iOzGoXGW300GT7ks9KTBziXTQOnNnuF/VugbQmAuon+xIp6j5ZqnwZ8GO2aTi1Wqod0Q94abX/U8BWl0WJZ1SyDakg9VpWxzlkIB0eIwQ81hdBGlVH7EaRsaZxlCOdajAP+BoDMXH/GE7MKzycGp/SL9xwOUkdKFx7e/1wZM6+zxtw/PHVA7YgQHpCsWYm5+lzcB31kZH32ph42vhi3EFzI6BwyVsczJE6yi3PCUQ6llXhCU7U1JQw/RP/3kSnBl6IyTTzF0qAW3uDG6nQJ9+sS1G7Fvjy5FEiV30evCzyJAHc/w/EkfWidBMMTeU/U9IgojB5pNfy7fV9mkGBwK4HrJ7t3JnuTvGLYbYxV5UdDoFg9EUQx4VvxN1ZK67ep27ExXB1OVZOzyf9LbCpQR37NANz4brU0mRekvJi3k0iYF5dHzi7ARa4L1JM0fz79w7SCKVVQ3Lue1snlKlDbHeHkXBkAY8f27JnFgTJRdLRmgg71RC8EiGAg+XA86jKofwsewZF1hlcNGDkhU9ogHpqdfUvIOxb1Gy0jKqZCbmOF/ywCG4GONjbwfY+GOQfFaf+h2RCEwHNCtL3FHmzl1Jm2UgXP5OoIvOk6Cb5kKQierUMkoEwsIXhQTzvTUYZBYB2IwsRUDokfzbyae0QVHIHkWcUTdS83UIES+Ivi9vB0ObbnGC8BTyl6uZL2qFZq8BH4p3kR0KRrOWfOv+gvZyLqvnW9s5phQhZg+TpYhBF2piRwZ6s+hOcrq2XXbxfu4wYd0hvLJmINwVRe3xtr3/ygRS5vL2IDkjdJLpUBF/cFlr2j3rrI3RI/UjDlUtBzL1DtKDXgnUKxwDdUBgABkx3a9Wo7llHcWRy/9ssRBdTOsRbDk5j50kN9XE9zPJV0GTa0OZG5l5sRnFzLTHFRTzFpt89MsSkulMeyyx6TIJC8Zu4UcQl/SMCNvGF+5TAHEmb4guao9vfHqCG8vG07mhKKqfCx0Yn3tp6WAMuZ28slSs37RaJrryXBkyH9vJpg20JTVene/87hcND8mm/cECiMgZOjlaaOJgRumNQ5NDsU1fKY5Bbeo3xei3wii90jlV1jPWp2J5sBpBdMqMiLtxtAn47P8uV31JtnBVW9i6hNvYw+JALhK5nHrrsXMgAZQ7m7+R+B30EKKSfLPdycqtRH3Pu3BE7ayyTljm5sZMG8FqOhknHzqScX0snf+T/FlQ0ljITqthdzpSns+3gVpaBVNr8loYGjrgVvzGC/c2OrkkRudDcHcMIGHXuM7QRXCv8bm6rpCAAATceq+cT4aTJ6FoZnacdD6m7+UH5bbzRO7WzV+ayOqeKlWVVr52rFmCcXfbAGMQk7Cr7NzOz4aPv/J8hAvQ3Yfrq7O2OIQvrQH4OQto1LlItglbtalVgGx4lotkN4gNiooK+IlxWMP1vjmlFp7c3G/uAH00//7zxpxwYAzHYKXBWrbtXpY8SLm2jl0/lfCXe4O5KvKvMNDwI3Glb66pkleY24FRIEMRZZw6oSTKtokTbzKpqjmWMjCHU/N5E5CTNvpqQEmcfNDg9bbiPfGZYAm0Nryb3gqD2sJd/5YCE0O049/6a21AqH6fzv6b1SBH4i0yQzsixtpHBIvKiStL3OAbfQ+qLl9VDbspgUFUkKPS4bJJMV7IpVan39yj7iIJ7gXRJX2X5ozR17B+ldF54Gz+12GJAzx+YBs4cNjUXTsCF0F2WZ1FhL08djL4JLEZZF7gvxo6slsu+wWGYa+Clt0a3VbVdFJXP5BVKAGxohbFCf4x8anfDz6eXCks7dlKoluuZUIH1p97x4IfmygDIlKaOzYOjiBEKwGEQl8BwzMzYXnLH1KPkULpHOWXplr8kd4DPSGXV30UPlbJAzeqIOk9U1sNlPEt1jkKE7Cwy8HBMVmAIHuPr70L14zCh7Q+ITglf5quyDBoRHRKh40m9u7Io8z6PYOtWKzj7Qtvgym0QtMHBX/kkraHkCNTqRJ6KB+iLcATSd97S9JFw+mHOFf96V50S9ZALRckS13QfQAB8/Ty3WZWcn6xNu+uDPL92WRCAY2XR6DbA7bdr0+oP5WAY8uozXB4oKpOdIfk832bM0YRXDK63YQ0+Wf7VvSDFpVU6+yc7imxFHShYLulSN8gQ2JQ=" alt="DeployTemplate" style="width: 32px; height: 32px; object-fit: contain;" />
                        <span>DeployTemplate</span>
                    </div>
                    <p>Premium website templates for modern businesses. Launch faster, grow bigger.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Twitter">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="GitHub">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0012 2z"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="LinkedIn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <div class="footer-column">
                    <h4>Templates</h4>
                    <ul>
                        <li><a href="#templates" onclick="filterByCategory('all')">All Templates</a></li>
                        <li><a href="#templates" onclick="filterByCategory('saas')">SaaS & Software</a></li>
                        <li><a href="#templates" onclick="filterByCategory('startup')">Startup & Tech</a></li>
                        <li><a href="#templates" onclick="filterByCategory('portfolio')">Portfolio & Creative</a></li>
                        <li><a href="#templates" onclick="filterByCategory('ecommerce')">E-commerce & Retail</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="about.html">About</a></li>
                        <li><a href="#showcase">Showcase</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="/cdn-cgi/l/email-protection#94f7fbfae0f5f7e0d4e0f1f9e4f8f5e0f1f2fbe6f3f1baf7fbf9">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#">Documentation</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">License</a></li>
                        <li><a href="#">Refund Policy</a></li>
                        <li><a href="/cdn-cgi/l/email-protection#1b686e6b6b74696f5b6f7e766b777a6f7e7d74697c7e35787476">Get Help</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 DeployTemplate. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    </div>
    <!-- END HOME PAGE SECTION -->

    <!-- TEMPLATE DETAIL PAGE -->
    <div id="template-detail-page" class="page-section">
        <div class="template-detail">
            <div class="container">
                <!-- Back Button -->
                <button class="back-btn" onclick="navigateTo('home'); setTimeout(() => document.getElementById('templates').scrollIntoView({behavior:'smooth'}), 100);">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"/>
                    </svg>
                    Back to Templates
                </button>

                <!-- Template Header -->
                <div class="detail-header">
                    <div class="detail-header-content">
                        <div class="detail-badge" id="detailBadge"></div>
                        <div class="detail-category" id="detailCategory"></div>
                        <h1 class="detail-title" id="detailTitle"></h1>
                        <p class="detail-description" id="detailDescription"></p>
                        
                        <div class="detail-meta">
                            <div class="meta-item">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                                <span id="detailDownloads">0 downloads</span>
                            </div>
                            <div class="meta-item">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                                </svg>
                                <span>4.9 rating</span>
                            </div>
                            <div class="meta-item">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12 6 12 12 16 14"/>
                                </svg>
                                <span id="detailUpdated">Updated recently</span>
                            </div>
                        </div>

                        <div class="detail-actions">
                            <div class="detail-price">
                                <span class="price-label">Price:</span>
                                <div>
                                    <span class="price-original" id="detailPriceOriginal"></span>
                                    <span class="price-current" id="detailPriceCurrent"></span>
                                </div>
                            </div>
                            <button class="btn btn-secondary btn-lg" id="detailBuyBtn" onclick="buyTemplateFromDetail()">
                                Buy Now 
                            </button>
                            <button class="btn btn-primary btn-lg" id="detailPreviewBtn">
                                Live Preview
                            </button>
                        </div>
                    </div>

                    <div class="detail-preview" id="detailPreview">
                        <!-- Preview will be loaded here -->
                    </div>
                </div>

                <!-- Template Features -->
                <div class="detail-section">
                    <h2>Features</h2>
                    <div class="feature-list" id="detailFeatures">
                        <!-- Features loaded dynamically -->
                    </div>
                </div>

                <!-- Template Screenshots -->
                <div class="detail-section">
                    <h2>Screenshots</h2>
                    <div class="screenshots-grid" id="detailScreenshots">
                        <!-- Screenshots loaded dynamically -->
                    </div>
                </div>

                <!-- What's Included -->
                <div class="detail-section">
                    <h2>What's Included</h2>
                    <div class="included-list">
                        <div class="included-item">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <h4>Complete Source Code</h4>
                                <p>All HTML, CSS, and JavaScript files fully customizable</p>
                            </div>
                        </div>
                        <div class="included-item">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <h4>Lifetime Updates</h4>
                                <p>Get all future versions and improvements for free</p>
                            </div>
                        </div>
                        <div class="included-item">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <h4>Documentation</h4>
                                <p>Detailed setup guide and customization instructions</p>
                            </div>
                        </div>
                        <div class="included-item">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            <div>
                                <h4>Premium Support</h4>
                                <p>Email support for any questions or issues</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tech Stack -->
                <div class="detail-section">
                    <h2>Tech Stack</h2>
                    <div class="tech-stack" id="detailTechStack">
                        <!-- Tech stack loaded dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END TEMPLATE DETAIL PAGE -->

    <!-- AUTH PANEL - Slide-out Login/Signup -->
    <div class="auth-overlay" id="authOverlay" onclick="closeAuthPanel()"></div>
    <div class="auth-panel" id="authPanel">
        <div class="auth-panel-header">
            <div class="auth-panel-logo">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                </svg>
                <span>DeployTemplate</span>
            </div>
            <button class="auth-panel-close" onclick="closeAuthPanel()" aria-label="Close">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        
        <div class="auth-panel-content">
            <!-- Auth Tabs -->
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab" onclick="switchAuthTab('login')">Sign In</button>
                <button class="auth-tab" id="signupTab" onclick="switchAuthTab('signup')">Create Account</button>
            </div>
            
            <div class="auth-forms">
                <!-- Login Form -->
                <form class="auth-form active" id="loginForm" onsubmit="handleLogin(event)">
                    <div class="auth-form-header">
                        <h2>Welcome Back</h2>
                        <p>Sign in to access your premium templates</p>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authLoginEmail">Email Address</label>
                        <div class="auth-input-wrapper">
                            <input type="email" class="auth-input" id="authLoginEmail" required placeholder="you@example.com" autocomplete="email">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authLoginPassword">Password</label>
                        <div class="auth-input-wrapper">
                            <input type="password" class="auth-input has-toggle" id="authLoginPassword" required placeholder="" autocomplete="current-password">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <button type="button" class="auth-password-toggle" onclick="togglePasswordVisibility('authLoginPassword', this)">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="auth-error" id="authLoginError">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <span id="authLoginErrorText"></span>
                    </div>
                    
                    <button type="submit" class="auth-submit" id="authLoginBtn">
                        Sign In
                    </button>
                </form>
                
                <!-- Signup Form -->
                <form class="auth-form" id="signupForm" onsubmit="handleSignup(event)">
                    <div class="auth-form-header">
                        <h2>Get Started</h2>
                        <p>Create your account to access premium templates</p>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authSignupName">Full Name</label>
                        <div class="auth-input-wrapper">
                            <input type="text" class="auth-input" id="authSignupName" required placeholder="John Doe" autocomplete="name">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authSignupEmail">Email Address</label>
                        <div class="auth-input-wrapper">
                            <input type="email" class="auth-input" id="authSignupEmail" required placeholder="you@example.com" autocomplete="email">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authSignupPassword">Password</label>
                        <div class="auth-input-wrapper">
                            <input type="password" class="auth-input has-toggle" id="authSignupPassword" required placeholder="" minlength="6" autocomplete="new-password">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <button type="button" class="auth-password-toggle" onclick="togglePasswordVisibility('authSignupPassword', this)">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                        <div class="auth-password-hint">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="16" x2="12" y2="12"></line>
                                <line x1="12" y1="8" x2="12.01" y2="8"></line>
                            </svg>
                            <span>Minimum 6 characters required</span>
                        </div>
                    </div>
                    
                    <div class="auth-input-group">
                        <label for="authSignupConfirmPassword">Confirm Password</label>
                        <div class="auth-input-wrapper">
                            <input type="password" class="auth-input has-toggle" id="authSignupConfirmPassword" required placeholder="" minlength="6" autocomplete="new-password">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <button type="button" class="auth-password-toggle" onclick="togglePasswordVisibility('authSignupConfirmPassword', this)">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="auth-error" id="authSignupError">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <span id="authSignupErrorText"></span>
                    </div>
                    
                    <button type="submit" class="auth-submit" id="authSignupBtn">
                        Create Account
                    </button>
                </form>
            </div>
        </div>
        
        <div class="auth-panel-footer">
            <p id="authFooterText">Don't have an account? <a onclick="switchAuthTab('signup')">Create one</a></p>
        </div>
    </div>

    <!-- ADMIN MODAL -->
    <div id="adminModal" class="modal-overlay">
        <div class="modal" style="max-width: 1200px; max-height: 90vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('adminModal')" aria-label="Close">&times;</button>
            <h2> Admin Panel</h2>
            <p>Manage templates and site content</p>
            
            <!-- Tab Navigation -->
            <div style="display: flex; gap: 1rem; margin: 2rem 0 1rem; border-bottom: 2px solid var(--border-color);">
                <button onclick="showAdminTab('add')" id="adminTabAdd" class="admin-tab active" style="padding: 0.75rem 1.5rem; background: none; border: none; border-bottom: 2px solid var(--primary); color: var(--primary); cursor: pointer; font-weight: 600;">Add Template</button>
                <button onclick="showAdminTab('manage')" id="adminTabManage" class="admin-tab" style="padding: 0.75rem 1.5rem; background: none; border: none; border-bottom: 2px solid transparent; color: var(--text-secondary); cursor: pointer; font-weight: 600;">Manage Templates</button>
                <button onclick="showAdminTab('hero')" id="adminTabHero" class="admin-tab" style="padding: 0.75rem 1.5rem; background: none; border: none; border-bottom: 2px solid transparent; color: var(--text-secondary); cursor: pointer; font-weight: 600;">Hero Images</button>
            </div>

            <!-- Add Template Tab -->
            <div id="adminTabAddContent" class="admin-tab-content">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Add New Template</h3>
                <form id="adminAddTemplateForm" onsubmit="handleAdminAddTemplate(event)">
                    <div class="form-group">
                        <label>Template Name *</label>
                        <input type="text" id="adminTemplateName" required>
                    </div>

                    <div class="form-group">
                        <label>Slug *</label>
                        <input type="text" id="adminTemplateSlug" required placeholder="e.g., modern-portfolio">
                    </div>

                    <div class="form-group">
                        <label>Category *</label>
                        <select id="adminTemplateCategory" required style="padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);">
                            <option value="">Select...</option>
                            <option value="saas">SaaS & Software</option>
                            <option value="startup">Startup & Tech</option>
                            <option value="landing">Landing Pages</option>
                            <option value="portfolio">Portfolio & Creative</option>
                            <option value="agency">Agency & Studio</option>
                            <option value="business">Business & Corporate</option>
                            <option value="ecommerce">E-commerce & Retail</option>
                            <option value="blog">Blog & Magazine</option>
                            <option value="restaurant">Restaurant & Food</option>
                            <option value="healthcare">Healthcare & Medical</option>
                            <option value="realestate">Real Estate</option>
                            <option value="education">Education & Courses</option>
                            <option value="events">Events & Entertainment</option>
                            <option value="travel">Travel & Hospitality</option>
                            <option value="finance">Finance & Fintech</option>
                            <option value="fitness">Fitness & Wellness</option>
                            <option value="nft">NFT & Web3</option>
                            <option value="photography">Photography & Video</option>
                            <option value="nonprofit">Non-profit & Charity</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Description *</label>
                        <textarea id="adminTemplateDescription" required style="min-height: 80px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label>Price ($) *</label>
                        <input type="number" id="adminTemplatePrice" required min="0" step="0.01" value="0">
                    </div>

                    <div class="form-group">
                        <label>Preview Image *</label>
                        <input type="file" id="adminTemplatePreviewImage" accept="image/*" required>
                    </div>

                    <div class="form-group">
                        <label>Template ZIP *</label>
                        <input type="file" id="adminTemplateZipFile" accept=".zip" required>
                    </div>

                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="adminTemplateIsPopular" style="width: auto; margin: 0;">
                            Mark as Popular
                        </label>
                    </div>

                    <div class="form-error" id="adminError"></div>
                    <button type="submit" class="btn btn-primary btn-block" id="adminAddBtn">
                        Add Template
                    </button>
                </form>
            </div>

            <!-- Manage Templates Tab -->
            <div id="adminTabManageContent" class="admin-tab-content" style="display: none;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Existing Templates</h3>
                <div id="adminTemplatesList" style="display: grid; gap: 1rem;">
                    <p style="color: var(--text-muted);">Loading templates...</p>
                </div>
            </div>

            <!-- Hero Images Tab -->
            <div id="adminTabHeroContent" class="admin-tab-content" style="display: none;">
                <h3 style="color: var(--primary); margin-bottom: 1rem;">Hero Section Images</h3>
                <p style="color: var(--text-muted); margin-bottom: 1rem;">Upload images to display in the hero section carousel</p>
                <form id="adminHeroUploadForm" onsubmit="handleAdminHeroUpload(event)">
                    <div class="form-group">
                        <label>Hero Image *</label>
                        <input type="file" id="adminHeroImage" accept="image/*" required>
                    </div>
                    <button type="submit" class="btn btn-primary" id="adminHeroBtn">
                        Upload Hero Image
                    </button>
                </form>
                <div id="adminHeroImagesList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem;">
                    <p style="color: var(--text-muted);">Loading hero images...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Template Modal -->
    <div id="editTemplateModal" class="modal-overlay">
        <div class="modal" style="max-width: 700px; max-height: 90vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('editTemplateModal')" aria-label="Close">&times;</button>
            <h2>Edit Template</h2>
            
            <form id="editTemplateForm" onsubmit="handleEditTemplate(event)">
                <input type="hidden" id="editTemplateId">
                
                <div class="form-group">
                    <label>Template Name *</label>
                    <input type="text" id="editTemplateName" required>
                </div>

                <div class="form-group">
                    <label>Category *</label>
                    <select id="editTemplateCategory" required style="padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary);">
                        <option value="saas">SaaS & Software</option>
                        <option value="startup">Startup & Tech</option>
                        <option value="landing">Landing Pages</option>
                        <option value="portfolio">Portfolio & Creative</option>
                        <option value="agency">Agency & Studio</option>
                        <option value="business">Business & Corporate</option>
                        <option value="ecommerce">E-commerce & Retail</option>
                        <option value="blog">Blog & Magazine</option>
                        <option value="restaurant">Restaurant & Food</option>
                        <option value="healthcare">Healthcare & Medical</option>
                        <option value="realestate">Real Estate</option>
                        <option value="education">Education & Courses</option>
                        <option value="events">Events & Entertainment</option>
                        <option value="travel">Travel & Hospitality</option>
                        <option value="finance">Finance & Fintech</option>
                        <option value="fitness">Fitness & Wellness</option>
                        <option value="nft">NFT & Web3</option>
                        <option value="photography">Photography & Video</option>
                        <option value="nonprofit">Non-profit & Charity</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Description *</label>
                    <textarea id="editTemplateDescription" required style="min-height: 80px;"></textarea>
                </div>

                <div class="form-group">
                    <label>Price ($) *</label>
                    <input type="number" id="editTemplatePrice" required min="0" step="0.01">
                </div>

                <div class="form-group">
                    <label>New Preview Image (leave empty to keep current)</label>
                    <input type="file" id="editTemplatePreviewImage" accept="image/*">
                </div>

                <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" id="editTemplateIsPopular" style="width: auto; margin: 0;">
                        Mark as Popular
                    </label>
                </div>

                <div class="form-error" id="editError"></div>
                <button type="submit" class="btn btn-primary btn-block" id="editTemplateBtn">
                    Update Template
                </button>
            </form>
        </div>
    </div>

    <!-- DASHBOARD PAGE SECTION -->
    <div id="dashboardPage" class="page-section">
        <div class="dashboard">
            <div class="container">
                <div class="dashboard-header">
                    <h1>My Templates</h1>
                    <p>Download and manage your purchased templates</p>
                </div>
                
                <div id="dashboardContent" class="dashboard-grid">
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <div class="loading"></div>
                        <p style="margin-top: 1rem; color: var(--text-secondary);">Loading your templates...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // ============================================
        // GLOBAL LOADING BAR
        // ============================================
        const LoadingBar = {
            navbar: null,
            interval: null,
            progress: 0,
            
            init() {
                this.navbar = document.querySelector('.navbar');
                if (!this.navbar) return;
                
                // Initial page load
                this.start();
                window.addEventListener('load', () => this.complete());
                
                // Listen for link clicks
                document.addEventListener('click', (e) => {
                    const link = e.target.closest('a[href], button[onclick*="showPage"], button[onclick*="scrollToSection"], .sidebar-menu-item, .template-card');
                    if (link) this.start();
                });
                
                // Listen for hash changes
                window.addEventListener('hashchange', () => this.start());
            },
            
            start() {
                if (!this.navbar) return;
                this.progress = 0;
                this.navbar.classList.remove('loaded');
                this.navbar.classList.add('loading');
                this.navbar.style.setProperty('--load-progress', '0%');
                
                clearInterval(this.interval);
                this.interval = setInterval(() => {
                    const increment = this.progress < 30 ? 10 : this.progress < 60 ? 5 : this.progress < 85 ? 2 : 0.5;
                    this.progress = Math.min(this.progress + increment, 90);
                    this.navbar.style.setProperty('--load-progress', this.progress + '%');
                }, 80);
                
                // Auto-complete after short delay for quick actions
                setTimeout(() => this.complete(), 600);
            },
            
            complete() {
                if (!this.navbar) return;
                clearInterval(this.interval);
                this.navbar.style.setProperty('--load-progress', '100%');
                setTimeout(() => {
                    this.navbar.classList.remove('loading');
                    this.navbar.classList.add('loaded');
                }, 150);
            }
        };
        
        LoadingBar.init();

        // ============================================
        // DEPLOYTEMPLATE COMPLETE - SINGLE FILE APP
        // Configuration + Authentication + App Logic
        // ============================================

        // CONFIGURATION
        const CONFIG = {
            SUPABASE_URL: 'https://gkyzpehxdqoolomglpal.supabase.co',
            SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdreXpwZWh4ZHFvb2xvbWdscGFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY3MjU0NzAsImV4cCI6MjA4MjMwMTQ3MH0.mdhXZZXFTWnSrdtIMTYAIR47LcCZXAz9ofxQmVCxnmc',
            GUMROAD_SELLER_ID: 'goldstar06',
            ADMIN_EMAIL: 'tylern101@yahoo.com',
            SITE_URL: window.location.origin,
            SITE_NAME: 'DeployTemplate',
            GUMROAD_PRODUCTS: {
                'saas-landing': 'tf-test',    // UPDATE: Change to real Gumroad product ID
                'portfolio': 'tf-test',        // UPDATE: Change to real Gumroad product ID
                'restaurant': 'tf-test'        // UPDATE: Change to real Gumroad product ID
            }
        };

        // Initialize Supabase Client
        const { createClient } = window.supabase;
        const supabaseClient = createClient(CONFIG.SUPABASE_URL, CONFIG.SUPABASE_ANON_KEY, {
            db: {
                schema: 'public'
            },
            global: {
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                }
            }
        });
        
        // Global State
        let currentUser = null;
        let currentRoute = 'home';
        let currentTemplateSlug = null;

        // ============================================
        // MOBILE MENU
        // ============================================
        
        function toggleMobileMenu() {
            const navLinks = document.getElementById('navLinks');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            navLinks.classList.toggle('active');
            mobileToggle.classList.toggle('active');
            
            // Prevent body scroll when menu is open
            if (navLinks.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
        
        // Close mobile menu when clicking nav link
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    const navLinks = document.getElementById('navLinks');
                    const mobileToggle = document.querySelector('.mobile-menu-toggle');
                    navLinks.classList.remove('active');
                    mobileToggle.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
        });

        // ============================================
        // SIDEBAR TOGGLE
        // ============================================
        
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');
            const sidebarToggle = document.getElementById('sidebarToggle');
            
            sidebar.classList.toggle('active');
            sidebarOverlay.classList.toggle('active');
            sidebarToggle.classList.toggle('active');
            
            // Prevent body scroll when sidebar is open
            if (sidebar.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }
        
        // Filter templates by quick filter
        function filterTemplates(filter) {
            console.log('Filtering by:', filter);
            toggleSidebar();
            scrollToSection('templates');
            
            // Add your filtering logic here
            // This would filter the template grid based on the selected filter
        }
        
        // Filter templates by category
        function filterByCategory(category) {
            console.log('Filtering category:', category);
            
            // Update active state
            document.querySelectorAll('.sidebar-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.sidebar-menu-item').classList.add('active');
            
            toggleSidebar();
            scrollToSection('templates');
            
            // Add your category filtering logic here
            // This would filter the template grid based on the selected category
        }
        
        // Sidebar search functionality
        document.addEventListener('DOMContentLoaded', () => {
            const sidebarSearch = document.getElementById('sidebarSearch');
            if (sidebarSearch) {
                sidebarSearch.addEventListener('input', (e) => {
                    const searchTerm = e.target.value.toLowerCase();
                    console.log('Searching for:', searchTerm);
                    // Add your search logic here
                });
            }
        });

        // ============================================
        // THEME TOGGLE
        // ============================================
        
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcons(newTheme);
        }

        function updateThemeIcons(theme) {
            const icons = document.querySelectorAll('#themeIconDropdown, #themeIconNav');
            const sunIcon = '<circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>';
            const moonIcon = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
            
            icons.forEach(icon => {
                if (icon) {
                    icon.innerHTML = theme === 'light' ? moonIcon : sunIcon;
                }
            });
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
        
        // Set initial state based on saved theme
        window.addEventListener('DOMContentLoaded', () => {
            updateThemeIcons(savedTheme);
            
            // ============================================
            // HERO ANIMATED PARTICLES
            // ============================================
            const hero = document.querySelector('.hero');
            if (hero) {
                // Create floating particles
                function createParticle() {
                    const particle = document.createElement('div');
                    particle.className = 'hero-particle';
                    
                    // Random size between 2-6px
                    const size = Math.random() * 4 + 2;
                    particle.style.width = size + 'px';
                    particle.style.height = size + 'px';
                    
                    // Random horizontal position
                    particle.style.left = Math.random() * 100 + '%';
                    
                    // Random animation duration between 10-20s
                    const duration = Math.random() * 10 + 10;
                    particle.style.animationDuration = duration + 's';
                    
                    // Random delay
                    particle.style.animationDelay = Math.random() * 5 + 's';
                    
                    // Random color (teal or cyan only)
                    const colors = ['rgba(13, 148, 136, 0.6)', 'rgba(20, 184, 166, 0.5)', 'rgba(6, 182, 212, 0.5)'];
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    hero.appendChild(particle);
                    
                    // Remove after animation
                    setTimeout(() => {
                        particle.remove();
                    }, duration * 1000);
                }
                
                // Create initial particles
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => createParticle(), i * 500);
                }
                
                // Continuously create new particles
                setInterval(() => createParticle(), 2000);
            }
        });

        // ============================================
        // NAVIGATION & ROUTING
        // ============================================
        
        function scrollToSection(sectionId) {
            // If we're not on home page, navigate to home first
            if (currentRoute !== 'home') {
                navigateTo('home');
                setTimeout(() => {
                    const element = document.getElementById(sectionId);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Manually set active state after scrolling
                        setTimeout(() => setActiveNavLink(sectionId), 300);
                    }
                }, 100);
            } else {
                // We're already on home, just scroll
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // Manually set active state after scrolling
                    setTimeout(() => setActiveNavLink(sectionId), 300);
                }
            }
        }
        
        function setActiveNavLink(sectionId) {
            const navLinks = document.querySelectorAll('.nav-links a[href^="#"]');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + sectionId) {
                    link.classList.add('active');
                }
            });
        }
        
        function navigateTo(page) {
            // Hide all page sections
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected page
            let pageElement;
            if (page === 'home') {
                pageElement = document.getElementById('homePage');
            } else if (page === 'dashboard') {
                pageElement = document.getElementById('dashboardPage');
            } else if (page === 'template-detail') {
                pageElement = document.getElementById('template-detail-page');
            }
            
            if (pageElement) {
                pageElement.classList.add('active');
                currentRoute = page;
                
                // Load dashboard data if needed
                if (page === 'dashboard') {
                    if (!currentUser) {
                        showNotification('Please sign in to view your dashboard', 'info');
                        showLogin();
                        navigateTo('home');
                        return;
                    }
                    loadDashboard();
                }
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // ============================================
        // AUTHENTICATION
        // ============================================
        
        async function checkAuth() {
            try {
                const { data: { session }, error } = await supabaseClient.auth.getSession();
                
                if (error && error.name !== 'AuthSessionMissingError') {
                    console.error('Auth check error:', error);
                }
                
                currentUser = session?.user ?? null;
                updateNavigation();
                return currentUser;
            } catch (error) {
                if (error.name !== 'AuthSessionMissingError') {
                    console.error('Auth check error:', error);
                }
                currentUser = null;
                updateNavigation();
                return null;
            }
        }

        async function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('authLoginEmail').value;
            const password = document.getElementById('authLoginPassword').value;
            const btn = document.getElementById('authLoginBtn');
            const errorEl = document.getElementById('authLoginError');
            const errorText = document.getElementById('authLoginErrorText');
            
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span> Signing in...';
            errorEl.classList.remove('active');
            
            try {
                const { data, error } = await supabaseClient.auth.signInWithPassword({
                    email: email,
                    password: password
                });
                
                if (error) throw error;
                
                currentUser = data.user;
                closeAuthPanel();
                showNotification('Welcome back!', 'success');
                updateNavigation();
                navigateTo('home');
                
            } catch (error) {
                errorText.textContent = error.message;
                errorEl.classList.add('active');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Sign In';
            }
        }

        async function handleSignup(event) {
            event.preventDefault();
            
            const name = document.getElementById('authSignupName').value;
            const email = document.getElementById('authSignupEmail').value;
            const password = document.getElementById('authSignupPassword').value;
            const confirmPassword = document.getElementById('authSignupConfirmPassword').value;
            const btn = document.getElementById('authSignupBtn');
            const errorEl = document.getElementById('authSignupError');
            const errorText = document.getElementById('authSignupErrorText');
            
            btn.disabled = true;
            btn.innerHTML = '<span class="loading"></span> Creating account...';
            errorEl.classList.remove('active');
            
            // Validate passwords match
            if (password !== confirmPassword) {
                errorText.textContent = 'Passwords do not match';
                errorEl.classList.add('active');
                btn.disabled = false;
                btn.textContent = 'Create Account';
                return;
            }
            
            try {
                const { data, error } = await supabaseClient.auth.signUp({
                    email: email,
                    password: password,
                    options: {
                        data: {
                            full_name: name
                        }
                    }
                });
                
                if (error) throw error;
                
                // Create user profile
                if (data.user) {
                    await supabaseClient
                        .from('users')
                        .insert({
                            id: data.user.id,
                            email: email,
                            full_name: name
                        })
                        .select();
                }
                
                currentUser = data.user;
                closeAuthPanel();
                showNotification('Account created! Welcome to DeployTemplate! ', 'success');
                updateNavigation();
                navigateTo('dashboard');
                
            } catch (error) {
                errorText.textContent = error.message;
                errorEl.classList.add('active');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Create Account';
            }
        }

        async function signOut() {
            try {
                await supabaseClient.auth.signOut();
                currentUser = null;
                updateNavigation();
                navigateTo('home');
                showNotification('Signed out successfully', 'info');
            } catch (error) {
                console.error('Sign out error:', error);
                showNotification('Error signing out', 'error');
            }
        }

        function updateNavigation() {
            const navCta = document.getElementById('navCta');
            const sidebarAccountSection = document.getElementById('sidebarAccountSection');
            
            if (!navCta) return;
            
            if (currentUser) {
                // Show sidebar account section when logged in
                if (sidebarAccountSection) {
                    sidebarAccountSection.style.display = 'block';
                }
                
                const initial = currentUser.email[0].toUpperCase();
                const isAdmin = currentUser.email === CONFIG.ADMIN_EMAIL;
                const adminButton = isAdmin ? `<a onclick="showAdminModal()">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    Admin Panel
                </a>` : '';
                
                navCta.innerHTML = `
                    <div class="user-menu" onmouseenter="showUserDropdown()" onmouseleave="hideUserDropdown()">
                        <div class="user-avatar" onclick="navigateTo('dashboard')">
                            <img src="logo.png" alt="Profile" style="width: 28px; height: 28px; object-fit: contain;">
                        </div>
                        <div class="user-dropdown" id="userDropdown">
                            <a onclick="navigateTo('dashboard')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="7" height="7"/>
                                    <rect x="14" y="3" width="7" height="7"/>
                                    <rect x="14" y="14" width="7" height="7"/>
                                    <rect x="3" y="14" width="7" height="7"/>
                                </svg>
                                My Library
                            </a>
                            <a onclick="navigateTo('dashboard')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                Wishlist
                            </a>
                            <a onclick="navigateTo('dashboard')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/>
                                    <line x1="1" y1="10" x2="23" y2="10"/>
                                </svg>
                                Purchases
                            </a>
                            <a onclick="navigateTo('dashboard')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                                Downloads
                            </a>
                            <a onclick="navigateTo('dashboard')">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"/>
                                    <path d="M12 1v6m0 6v6m5.2-15.8l-4.2 4.2m0 5.2l-4.2 4.2M23 12h-6m-6 0H1m15.8 5.2l-4.2-4.2m0-5.2l-4.2-4.2"/>
                                </svg>
                                Settings
                            </a>
                            ${adminButton}
                            <div class="user-dropdown-divider"></div>
                            <a onclick="toggleTheme(); event.stopPropagation();" style="cursor: pointer;">
                                <svg id="themeIconDropdown" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                                </svg>
                                Theme
                            </a>
                            <div class="user-dropdown-divider"></div>
                            <button onclick="signOut()" class="sign-out">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                    <polyline points="16 17 21 12 16 7"/>
                                    <line x1="21" y1="12" x2="9" y2="12"/>
                                </svg>
                                Sign Out
                            </button>
                        </div>
                    </div>
                `;
            } else {
                // Hide sidebar account section when logged out
                if (sidebarAccountSection) {
                    sidebarAccountSection.style.display = 'none';
                }
                
                navCta.innerHTML = `
                    <button class="btn-nav-glass btn-nav-glass-secondary" onclick="showLogin()">Sign In</button>
                    <button class="btn-nav-glass btn-nav-glass-primary" onclick="showSignup()">Get Started</button>
                    <button class="theme-btn" onclick="toggleTheme()" id="themeBtnNav" aria-label="Toggle theme">
                        <svg id="themeIconNav" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </button>
                `;
                updateThemeIcons(savedTheme);
            }
        }

        function showUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            const userMenu = document.querySelector('.user-menu');
            
            if (dropdown && userMenu) {
                // Position the dropdown since it's using fixed positioning
                const rect = userMenu.getBoundingClientRect();
                dropdown.style.top = `${rect.bottom + 2}px`;
                dropdown.style.right = `${window.innerWidth - rect.right}px`;
                dropdown.classList.add('active');
            }
        }

        function hideUserDropdown() {
            const dropdown = document.getElementById('userDropdown');
            if (dropdown) {
                dropdown.classList.remove('active');
            }
        }

        function toggleUserMenu(event) {
            event.stopPropagation();
            const dropdown = document.getElementById('userDropdown');
            if (dropdown) {
                dropdown.classList.toggle('active');
            }
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const userMenu = document.querySelector('.user-menu');
            const dropdown = document.getElementById('userDropdown');
            if (dropdown && userMenu && !userMenu.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });

        // ============================================
        // MODAL MANAGEMENT
        // ============================================
        
        // Auth Panel Functions
        function openAuthPanel(tab = 'login') {
            const panel = document.getElementById('authPanel');
            const overlay = document.getElementById('authOverlay');
            
            if (panel && overlay) {
                overlay.classList.add('active');
                panel.classList.add('active');
                document.body.style.overflow = 'hidden';
                switchAuthTab(tab);
            }
        }
        
        function closeAuthPanel() {
            const panel = document.getElementById('authPanel');
            const overlay = document.getElementById('authOverlay');
            
            if (panel && overlay) {
                panel.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
                
                // Clear forms
                clearAuthForms();
            }
        }
        
        function switchAuthTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const signupTab = document.getElementById('signupTab');
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');
            const footerText = document.getElementById('authFooterText');
            
            if (tab === 'login') {
                loginTab.classList.add('active');
                signupTab.classList.remove('active');
                loginForm.classList.add('active');
                signupForm.classList.remove('active');
                footerText.innerHTML = "Don't have an account? <a onclick=\"switchAuthTab('signup')\">Create one</a>";
            } else {
                loginTab.classList.remove('active');
                signupTab.classList.add('active');
                loginForm.classList.remove('active');
                signupForm.classList.add('active');
                footerText.innerHTML = "Already have an account? <a onclick=\"switchAuthTab('login')\">Sign in</a>";
            }
            
            // Clear errors when switching
            document.getElementById('authLoginError').classList.remove('active');
            document.getElementById('authSignupError').classList.remove('active');
        }
        
        function clearAuthForms() {
            // Clear login form
            const loginEmail = document.getElementById('authLoginEmail');
            const loginPassword = document.getElementById('authLoginPassword');
            if (loginEmail) loginEmail.value = '';
            if (loginPassword) loginPassword.value = '';
            
            // Clear signup form
            const signupName = document.getElementById('authSignupName');
            const signupEmail = document.getElementById('authSignupEmail');
            const signupPassword = document.getElementById('authSignupPassword');
            const signupConfirmPassword = document.getElementById('authSignupConfirmPassword');
            if (signupName) signupName.value = '';
            if (signupEmail) signupEmail.value = '';
            if (signupPassword) signupPassword.value = '';
            if (signupConfirmPassword) signupConfirmPassword.value = '';
            
            // Clear errors
            document.getElementById('authLoginError').classList.remove('active');
            document.getElementById('authSignupError').classList.remove('active');
        }
        
        function togglePasswordVisibility(inputId, button) {
            const input = document.getElementById(inputId);
            const svg = button.querySelector('svg');
            
            if (input.type === 'password') {
                input.type = 'text';
                svg.innerHTML = '<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>';
            } else {
                input.type = 'password';
                svg.innerHTML = '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>';
            }
        }
        
        // Legacy functions that now redirect to auth panel
        function showLogin() {
            openAuthPanel('login');
        }

        function showSignup() {
            openAuthPanel('signup');
        }

        function closeModal(modalId) {
            if (modalId === 'loginModal' || modalId === 'signupModal') {
                closeAuthPanel();
                return;
            }
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // Close modal on overlay click
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) {
                        overlay.classList.remove('active');
                    }
                });
            });
        });

        // ============================================
        // DASHBOARD
        // ============================================
        
        async function loadDashboard() {
            LoadingBar.start();
            if (!currentUser) {
                LoadingBar.complete();
                navigateTo('home');
                showLogin();
                return;
            }
            
            const container = document.getElementById('dashboardContent');
            if (!container) {
                LoadingBar.complete();
                return;
            }
            
            container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 3rem;"><div class="loading"></div><p style="margin-top: 1rem; color: var(--text-secondary);">Loading your templates...</p></div>';
            
            try {
                const { data: purchases, error } = await supabaseClient
                    .from('purchases')
                    .select(`
                        *,
                        templates (
                            id,
                            name,
                            slug,
                            thumbnail_url,
                            current_version,
                            category
                        )
                    `)
                    .eq('user_id', currentUser.id)
                    .order('purchased_at', { ascending: false });
                
                if (error) throw error;
                
                if (!purchases || purchases.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-state-icon"></div>
                            <h3>No templates yet</h3>
                            <p>Purchase your first template to get started building amazing websites!</p>
                            <button class="btn btn-primary btn-lg" onclick="navigateTo('home'); setTimeout(() => document.getElementById('templates').scrollIntoView({behavior:'smooth'}), 100);">Browse Templates</button>
                        </div>
                    `;
                    LoadingBar.complete();
                    return;
                }
                
                container.innerHTML = purchases.map(purchase => {
                    const template = purchase.templates;
                    const gradients = ['gradient-1', 'gradient-2', 'gradient-3'];
                    const randomGradient = gradients[Math.floor(Math.random() * gradients.length)];
                    
                    return `
                        <div class="dashboard-card">
                            <div class="card-image" style="background: var(--${randomGradient});">
                                <div class="card-badge">v${template.current_version}</div>
                            </div>
                            <div class="card-content">
                                <h3>${template.name}</h3>
                                <p>${template.category || 'Template'}</p>
                                <div class="card-meta">
                                    <div class="card-meta-item">
                                        <span></span>
                                        ${new Date(purchase.purchased_at).toLocaleDateString()}
                                    </div>
                                    <div class="card-meta-item">
                                        <span></span>
                                        Lifetime Access
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-small" onclick="downloadTemplate('${template.slug}', '${template.current_version}')">
                                         Download
                                    </button>
                                    <button class="btn btn-secondary btn-small" onclick="showNotification('Updates coming soon!', 'info')">
                                         Updates
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
                
                LoadingBar.complete();
            } catch (error) {
                LoadingBar.complete();
                console.error('Dashboard load error:', error);
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon"></div>
                        <h3>Error loading templates</h3>
                        <p>${error.message}</p>
                        <button class="btn btn-primary" onclick="loadDashboard()">Try Again</button>
                    </div>
                `;
            }
        }

        async function downloadTemplate(slug, version) {
            showNotification('Preparing your download...', 'info');
            
            try {
                // Get template info
                const { data: template, error: templateError } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .eq('slug', slug)
                    .single();
                
                if (templateError) throw templateError;
                if (!template) throw new Error('Template not found');
                
                // Create signed URL for download
                const filePath = `${slug}/${slug}-v${version}.zip`;
                const { data: urlData, error: urlError } = await supabaseClient.storage
                    .from('templates')
                    .createSignedUrl(filePath, 3600); // 1 hour expiry
                
                if (urlError) {
                    // File doesn't exist yet - show friendly message
                    showNotification('Template file is being prepared by admin. Check back soon!', 'info');
                    return;
                }
                
                // Trigger download
                const link = document.createElement('a');
                link.href = urlData.signedUrl;
                link.download = `${slug}-v${version}.zip`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('Download started! ', 'success');
                
                // Log the download
                await supabaseClient
                    .from('download_logs')
                    .insert({
                        user_id: currentUser.id,
                        template_id: template.id,
                        version: version
                    });
                
            } catch (error) {
                console.error('Download error:', error);
                showNotification('Download failed: ' + error.message, 'error');
            }
        }

        // ============================================
        // PURCHASE FLOW
        // ============================================
        
        // Track pending purchase for post-checkout flow
        let pendingPurchase = null;

        function buyTemplate(templateSlug, templateName, price) {
            if (!currentUser) {
                showNotification('Please sign up to purchase templates!', 'info');
                setTimeout(() => showSignup(), 500);
                return;
            }
            
            // Get Gumroad product permalink
            const gumroadPermalink = CONFIG.GUMROAD_PRODUCTS[templateSlug];
            if (!gumroadPermalink) {
                console.error('No Gumroad product found for:', templateSlug);
                showNotification('Product configuration error. Please contact support.', 'error');
                return;
            }
            
            // Store pending purchase info
            pendingPurchase = { slug: templateSlug, name: templateName, price: price };
            
            // Build Gumroad URL with user email and custom field for template slug
            const gumroadUrl = `https://goldstar06.gumroad.com/l/${gumroadPermalink}?email=${encodeURIComponent(currentUser.email)}&template_slug=${templateSlug}`;
            
            // Create temporary link and trigger Gumroad overlay
            const tempLink = document.createElement('a');
            tempLink.href = gumroadUrl;
            tempLink.classList.add('gumroad-button');
            tempLink.style.display = 'none';
            document.body.appendChild(tempLink);
            tempLink.click();
            document.body.removeChild(tempLink);
            
            // Listen for Gumroad overlay close and check for purchase
            startPurchasePolling(templateSlug);
        }
        
        // Poll for purchase completion after Gumroad checkout
        async function startPurchasePolling(templateSlug) {
            let attempts = 0;
            const maxAttempts = 30; // Poll for 60 seconds max
            
            const pollInterval = setInterval(async () => {
                attempts++;
                
                // Check if purchase exists
                const { data: purchase, error } = await supabaseClient
                    .from('purchases')
                    .select('*')
                    .eq('user_id', currentUser.id)
                    .eq('template_slug', templateSlug)
                    .single();
                
                if (purchase && !error) {
                    clearInterval(pollInterval);
                    showPurchaseSuccessModal(pendingPurchase);
                    pendingPurchase = null;
                    loadDashboard(); // Refresh dashboard
                }
                
                if (attempts >= maxAttempts) {
                    clearInterval(pollInterval);
                    pendingPurchase = null;
                }
            }, 2000); // Check every 2 seconds
            
            // Stop polling if user navigates away
            window.addEventListener('beforeunload', () => clearInterval(pollInterval), { once: true });
        }
        
        // Show purchase success modal
        function showPurchaseSuccessModal(purchaseInfo) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.id = 'purchaseSuccessModal';
            modal.innerHTML = `
                <div class="modal" style="max-width: 500px; text-align: center;">
                    <button class="modal-close" onclick="closePurchaseSuccessModal()"></button>
                    <div style="font-size: 4rem; margin-bottom: 1rem;"></div>
                    <h2 style="color: var(--text-primary); margin-bottom: 1rem;">Purchase Complete!</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        Thank you for purchasing <strong>${purchaseInfo.name}</strong>!<br>
                        Your template is ready to download.
                    </p>
                    <button class="btn btn-primary btn-lg" onclick="downloadAfterPurchase('${purchaseInfo.slug}')" style="width: 100%; margin-bottom: 1rem;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        Download Now
                    </button>
                    <button class="btn btn-secondary" onclick="closePurchaseSuccessModal(); showDashboard();" style="width: 100%;">
                        Go to Dashboard
                    </button>
                    <p style="color: var(--text-muted); font-size: 0.85rem; margin-top: 1.5rem;">
                        You can re-download anytime from your dashboard.
                    </p>
                </div>
            `;
            document.body.appendChild(modal);
            setTimeout(() => modal.classList.add('active'), 10);
        }
        
        function closePurchaseSuccessModal() {
            const modal = document.getElementById('purchaseSuccessModal');
            if (modal) {
                modal.classList.remove('active');
                setTimeout(() => modal.remove(), 300);
            }
        }
        
        async function downloadAfterPurchase(slug) {
            closePurchaseSuccessModal();
            await downloadTemplate(slug, '1.0.0');
        }

        // ============================================
        // NOTIFICATIONS
        // ============================================
        
        function showNotification(message, type = 'success') {
            // Remove any existing notifications
            document.querySelectorAll('.notification').forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icon = type === 'success' ? '' : type === 'error' ? '' : '';
            notification.innerHTML = `<span style="font-size: 1.25rem;">${icon}</span><span>${message}</span>`;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // ============================================
        // BROWSE TEMPLATES
        // ============================================
        
        let currentPage = 1;
        let templatesPerPage = 6;
        let displayedTemplates = 0;
        const maxTemplatesBeforeBackToTop = 18;
        let allTemplates = [];
        let filteredTemplates = [];

        async function loadBrowseTemplates() {
            LoadingBar.start();
            console.log('Loading browse templates...');
            const grid = document.getElementById('browseTemplatesGrid');
            
            if (!grid) return;
            
            try {
                // Fetch all templates from Supabase
                const { data: templates, error } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) throw error;
                
                // Use templates from DB, or fallback to mock data if empty
                allTemplates = (templates && templates.length > 0) ? templates : getMockTemplates();
                filteredTemplates = [...allTemplates];
                displayedTemplates = 0;
                
                renderTemplates();
                setupBrowseListeners();
                LoadingBar.complete();
                
            } catch (error) {
                // Use mock data on error
                allTemplates = getMockTemplates();
                filteredTemplates = [...allTemplates];
                displayedTemplates = 0;
                renderTemplates();
                setupBrowseListeners();
                LoadingBar.complete();
            }
        }

        function getMockTemplates() {
            return [
                {
                    slug: 'saas-landing',
                    name: 'FlowMetrics - SaaS Landing',
                    description: 'Modern landing page perfect for SaaS products, with pricing tables, feature sections, dark mode, and conversion-optimized design.',
                    category: 'saas',
                    price: 29,
                    original_price: 49,
                    is_popular: true,
                    is_new: true,
                    features: ['Responsive Design', 'Dark/Light Mode', 'Pricing Tables', 'Scroll Animations', 'SEO Optimized', 'Mobile Menu'],
                    downloads: 0,
                    demo_url: 'https://www.deploytemplate.com/demos/saas',
                    tech_stack: ['HTML5', 'CSS3', 'JavaScript'],
                    created_at: '2024-12-27T00:00:00Z',
                    updated_at: '2024-12-27T00:00:00Z'
                },
                {
                    slug: 'portfolio',
                    name: 'Creative Portfolio',
                    description: 'Stunning dark-themed portfolio with custom cursor effects, scroll animations, skill bars, and project showcases for developers and designers.',
                    category: 'portfolio',
                    price: 29,
                    original_price: 49,
                    is_popular: false,
                    is_new: true,
                    features: ['Dark/Light Mode', 'Custom Cursor', 'Scroll Animations', 'Contact Form', 'Skill Bars', 'Mobile Menu'],
                    downloads: 0,
                    demo_url: 'https://www.deploytemplate.com/demos/portfolio',
                    tech_stack: ['HTML5', 'CSS3', 'JavaScript'],
                    created_at: '2024-12-27T00:00:00Z',
                    updated_at: '2024-12-27T00:00:00Z'
                },
                {
                    slug: 'restaurant',
                    name: 'Bella Vista - Restaurant',
                    description: 'Elegant restaurant template with menu displays, reservation forms, image gallery, and contact sections. Perfect for restaurants, cafes, and bistros.',
                    category: 'restaurant',
                    price: 29,
                    original_price: 49,
                    is_popular: false,
                    is_new: true,
                    features: ['Menu Display', 'Reservation Form', 'Image Gallery', 'Dark/Light Mode', 'Mobile Menu', 'SEO Optimized'],
                    downloads: 0,
                    demo_url: 'https://www.deploytemplate.com/demos/restaurant',
                    tech_stack: ['HTML5', 'CSS3', 'JavaScript'],
                    created_at: '2024-12-27T00:00:00Z',
                    updated_at: '2024-12-27T00:00:00Z'
                }
            ];
        }

        function renderTemplates(append = false) {
            const grid = document.getElementById('browseTemplatesGrid');
            const loadMoreContainer = document.getElementById('loadMoreContainer');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            
            if (filteredTemplates.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon"></div>
                        <h3>No templates found</h3>
                        <p>Try adjusting your search or filters</p>
                    </div>
                `;
                loadMoreContainer.style.display = 'none';
                return;
            }
            
            // Calculate which templates to show
            const endIndex = append ? displayedTemplates + templatesPerPage : templatesPerPage;
            const templatesToShow = filteredTemplates.slice(append ? displayedTemplates : 0, endIndex);
            displayedTemplates = endIndex;
            
            // Render template cards
            const gradients = ['gradient-1', 'gradient-2', 'gradient-3'];
            const newCardsHTML = templatesToShow.map((template, index) => {
                const randomGradient = gradients[(displayedTemplates - templatesToShow.length + index) % gradients.length];
                const price = template.price || 0;
                const originalPrice = template.original_price || price;
                
                return `
                    <div class="template-card" data-category="${template.category || 'all'}">
                        <div class="template-image">
                            <div class="preview-gradient ${randomGradient}"></div>
                            <div class="template-overlay">
                                <button class="btn btn-white" onclick="event.preventDefault(); viewTemplateDetails('${template.slug}'); return false;">View Details</button>
                                ${template.demo_url ? `<a href="${template.demo_url}" target="_blank" class="btn btn-outline-white">Live Preview</a>` : ''}
                            </div>
                            ${template.is_popular ? '<div class="template-badge">Most Popular</div>' : ''}
                            ${template.is_new ? '<div class="template-badge badge-new">New</div>' : ''}
                        </div>
                        <div class="template-info">
                            <div class="template-category">${template.category || 'Template'}</div>
                            <h3 class="template-title">${template.name}</h3>
                            <p class="template-description">${template.description || 'Professional template ready for your business'}</p>
                            <div class="template-tags">
                                ${template.features ? template.features.slice(0, 3).map(f => `<span class="tag">${f}</span>`).join('') : ''}
                            </div>
                            <div class="template-footer">
                                <div class="template-price">
                                    ${originalPrice > price ? `<span class="price-original">$${originalPrice}</span>` : ''}
                                    <span class="price-current">${price === 0 ? 'FREE' : '$' + price}</span>
                                </div>
                                <div class="template-actions">
                                    <button class="btn btn-small btn-outline" 
                                        onclick="addToCart('${template.slug}', '${template.name}', ${price}, '${template.preview_image || ''}'); event.stopPropagation();">
                                        Add to Cart
                                    </button>
                                    <button class="btn btn-small ${price === 0 ? 'btn-primary' : 'btn-secondary'}" 
                                        onclick="buyTemplate('${template.slug}', '${template.name}', ${price})">
                                        ${price === 0 ? 'Get Free ' : 'Buy Now '}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            if (append) {
                grid.insertAdjacentHTML('beforeend', newCardsHTML);
            } else {
                grid.innerHTML = newCardsHTML;
            }
            
            // Update load more button
            updateLoadMoreButton();
        }
        
        function updateLoadMoreButton() {
            const loadMoreContainer = document.getElementById('loadMoreContainer');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const hasMore = displayedTemplates < filteredTemplates.length;
            
            if (hasMore) {
                loadMoreContainer.style.display = 'flex';
                loadMoreBtn.className = 'btn btn-primary btn-lg';
                loadMoreBtn.innerHTML = 'Load More Templates';
                loadMoreBtn.onclick = loadMoreTemplates;
            } else if (displayedTemplates >= maxTemplatesBeforeBackToTop) {
                loadMoreContainer.style.display = 'flex';
                loadMoreBtn.className = 'btn btn-lg back-to-top';
                loadMoreBtn.innerHTML = ' Back to Top';
                loadMoreBtn.onclick = scrollToTop;
            } else {
                loadMoreContainer.style.display = 'none';
            }
        }
        
        function loadMoreTemplates() {
            LoadingBar.start();
            renderTemplates(true);
            LoadingBar.complete();
        }
        
        function scrollToTop() {
            document.getElementById('templates').scrollIntoView({ behavior: 'smooth' });
        }

        function setupBrowseListeners() {
            // Search
            const searchInput = document.getElementById('templateSearch');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    filterTemplates();
                });
            }
            
            // Category filter
            const categoryFilter = document.getElementById('categoryFilter');
            if (categoryFilter) {
                categoryFilter.addEventListener('change', filterTemplates);
            }
            
            // Sort filter
            const sortFilter = document.getElementById('sortFilter');
            if (sortFilter) {
                sortFilter.addEventListener('change', filterTemplates);
            }
        }

        function filterTemplates() {
            const searchTerm = document.getElementById('templateSearch')?.value.toLowerCase() || '';
            const category = document.getElementById('categoryFilter')?.value || 'all';
            const sortBy = document.getElementById('sortFilter')?.value || 'newest';
            
            // Filter
            filteredTemplates = allTemplates.filter(template => {
                const matchesSearch = !searchTerm || 
                    template.name.toLowerCase().includes(searchTerm) ||
                    (template.description && template.description.toLowerCase().includes(searchTerm));
                
                const matchesCategory = category === 'all' || template.category === category;
                
                return matchesSearch && matchesCategory;
            });
            
            // Sort
            filteredTemplates.sort((a, b) => {
                switch(sortBy) {
                    case 'newest':
                        return new Date(b.created_at) - new Date(a.created_at);
                    case 'popular':
                        return (b.downloads || 0) - (a.downloads || 0);
                    case 'price-low':
                        return (a.price || 0) - (b.price || 0);
                    case 'price-high':
                        return (b.price || 0) - (a.price || 0);
                    default:
                        return 0;
                }
            });
            
            currentPage = 1;
            displayedTemplates = 0;
            renderTemplates();
        }

        function viewTemplateDetails(slug) {
            currentTemplateSlug = slug;
            window.currentTemplateSlug = slug; // Also store on window for buyTemplateFromDetail
            navigateTo('template-detail');
            loadTemplateDetail(slug);
        }

        async function loadTemplateDetail(slug) {
            LoadingBar.start();
            try {
                // Fetch template details with proper headers
                const { data: template, error } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .eq('slug', slug)
                    .single();
                
                if (error) throw error;
                if (!template) throw new Error('Template not found');
                
                // Populate header
                if (template.is_popular) {
                    document.getElementById('detailBadge').textContent = 'Most Popular';
                    document.getElementById('detailBadge').style.display = 'inline-block';
                } else if (template.is_new) {
                    document.getElementById('detailBadge').textContent = 'New';
                    document.getElementById('detailBadge').style.display = 'inline-block';
                    document.getElementById('detailBadge').style.background = 'var(--secondary)';
                } else {
                    document.getElementById('detailBadge').style.display = 'none';
                }
                
                document.getElementById('detailCategory').textContent = template.category || 'Template';
                document.getElementById('detailTitle').textContent = template.name;
                document.getElementById('detailDescription').textContent = template.description || 'Professional template ready for your business';
                
                // Meta info
                document.getElementById('detailDownloads').textContent = `${template.downloads || 0} downloads`;
                const updatedDate = new Date(template.updated_at || template.created_at);
                document.getElementById('detailUpdated').textContent = `Updated ${updatedDate.toLocaleDateString()}`;
                
                // Price
                const price = template.price || 0;
                const originalPrice = template.original_price || price;
                
                if (originalPrice > price) {
                    document.getElementById('detailPriceOriginal').textContent = `$${originalPrice}`;
                    document.getElementById('detailPriceOriginal').style.display = 'inline';
                } else {
                    document.getElementById('detailPriceOriginal').style.display = 'none';
                }
                
                document.getElementById('detailPriceCurrent').textContent = price === 0 ? 'FREE' : `$${price}`;
                
                // Buy button
                const buyBtn = document.getElementById('detailBuyBtn');
                buyBtn.textContent = price === 0 ? 'Get Free Template ' : 'Buy Now ';
                buyBtn.onclick = () => buyTemplate(template.slug, template.name, price);
                
                // Preview button
                const previewBtn = document.getElementById('detailPreviewBtn');
                if (template.demo_url) {
                    previewBtn.onclick = () => window.open(template.demo_url, '_blank');
                    previewBtn.style.display = 'block';
                } else {
                    previewBtn.style.display = 'none';
                }
                
                // Preview image
                const gradients = ['gradient-1', 'gradient-2', 'gradient-3'];
                const randomGradient = gradients[Math.floor(Math.random() * gradients.length)];
                document.getElementById('detailPreview').innerHTML = `
                    <div class="detail-preview-image" style="background: var(--${randomGradient});"></div>
                `;
                
                // Features
                if (template.features && template.features.length > 0) {
                    const featureIcons = ['', '', '', '', '', '', '', ''];
                    document.getElementById('detailFeatures').innerHTML = template.features.map((feature, index) => `
                        <div class="feature-item">
                            <div class="feature-icon">${featureIcons[index % featureIcons.length]}</div>
                            <div class="feature-content">
                                <h4>${feature}</h4>
                                <p>Fully customizable and optimized for performance</p>
                            </div>
                        </div>
                    `).join('');
                } else {
                    document.getElementById('detailFeatures').innerHTML = `
                        <div class="feature-item">
                            <div class="feature-icon"></div>
                            <div class="feature-content">
                                <h4>Modern Design</h4>
                                <p>Clean, professional design that stands out</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon"></div>
                            <div class="feature-content">
                                <h4>Fully Responsive</h4>
                                <p>Perfect on all devices and screen sizes</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon"></div>
                            <div class="feature-content">
                                <h4>Fast Performance</h4>
                                <p>Optimized for speed and user experience</p>
                            </div>
                        </div>
                    `;
                }
                
                // Screenshots (placeholder gradients for now)
                document.getElementById('detailScreenshots').innerHTML = gradients.map(gradient => `
                    <div class="screenshot-item">
                        <div style="width: 100%; height: 300px; background: var(--${gradient});"></div>
                    </div>
                `).join('');
                
                // Tech stack
                const techStack = template.tech_stack || ['HTML5', 'CSS3', 'JavaScript', 'Responsive Design'];
                document.getElementById('detailTechStack').innerHTML = techStack.map(tech => `
                    <div class="tech-item">${tech}</div>
                `).join('');
                
                LoadingBar.complete();
            } catch (error) {
                LoadingBar.complete();
                console.error('Error loading template details:', error);
                showNotification('Error loading template details: ' + error.message, 'error');
                navigateTo('home');
                setTimeout(() => document.getElementById('templates').scrollIntoView({behavior:'smooth'}), 100);
            }
        }

        function buyTemplateFromDetail() {
            const slug = window.currentTemplateSlug;
            const name = document.getElementById('detailTitle').textContent;
            const priceText = document.getElementById('detailPriceCurrent').textContent;
            const price = priceText === 'FREE' ? 0 : parseFloat(priceText.replace('$', ''));
            buyTemplate(slug, name, price);
        }

        // ============================================
        // SEARCH SUGGESTIONS
        // ============================================
        
        let searchDebounceTimer = null;
        
        function setupSearchSuggestions() {
            // Navbar search
            const navSearch = document.getElementById('navSearch');
            const navSuggestions = document.getElementById('navSearchSuggestions');
            
            if (navSearch) {
                navSearch.addEventListener('input', (e) => {
                    clearTimeout(searchDebounceTimer);
                    searchDebounceTimer = setTimeout(() => {
                        showSearchSuggestions(e.target.value, navSuggestions, navSearch);
                    }, 150);
                });
                
                navSearch.addEventListener('focus', (e) => {
                    showSearchSuggestions(e.target.value, navSuggestions, navSearch);
                });
                
                navSearch.addEventListener('keydown', (e) => {
                    handleSearchKeydown(e, navSuggestions);
                });
                
                // Close on click outside
                document.addEventListener('click', (e) => {
                    if (!navSearch.contains(e.target) && !navSuggestions.contains(e.target)) {
                        navSuggestions.classList.remove('active');
                    }
                });
            }
            
            // Browse page search
            const browseSearch = document.getElementById('templateSearch');
            const browseSuggestions = document.getElementById('browseSearchSuggestions');
            
            if (browseSearch) {
                browseSearch.addEventListener('input', (e) => {
                    clearTimeout(searchDebounceTimer);
                    searchDebounceTimer = setTimeout(() => {
                        showSearchSuggestions(e.target.value, browseSuggestions, browseSearch);
                    }, 150);
                });
                
                browseSearch.addEventListener('focus', (e) => {
                    showSearchSuggestions(e.target.value, browseSuggestions, browseSearch);
                });
                
                browseSearch.addEventListener('keydown', (e) => {
                    handleSearchKeydown(e, browseSuggestions);
                });
                
                document.addEventListener('click', (e) => {
                    if (!browseSearch.contains(e.target) && !browseSuggestions.contains(e.target)) {
                        browseSuggestions.classList.remove('active');
                    }
                });
            }
        }
        
        function showSearchSuggestions(query, suggestionsContainer, inputElement) {
            // Position nav search suggestions if using fixed positioning
            if (suggestionsContainer.id === 'navSearchSuggestions') {
                const rect = inputElement.getBoundingClientRect();
                suggestionsContainer.style.top = `${rect.bottom + 8}px`;
                suggestionsContainer.style.left = `${rect.left}px`;
                suggestionsContainer.style.width = `${rect.width}px`;
            }
            
            // Show recent/popular templates on focus even without query
            if (!query || query.length < 1) {
                // Show top 5 popular/recent templates
                const popularTemplates = allTemplates.slice(0, 5);
                
                if (popularTemplates.length === 0) {
                    suggestionsContainer.classList.remove('active');
                    return;
                }
                
                const gradients = ['gradient-1', 'gradient-2', 'gradient-3'];
                suggestionsContainer.innerHTML = `
                    <div class="suggestion-header">Popular Templates</div>
                    ${popularTemplates.map((template, index) => {
                        const gradient = gradients[index % gradients.length];
                        const price = template.price || 0;
                        
                        return `
                            <div class="suggestion-item" onclick="selectTemplate('${template.slug}', '${inputElement.id}')">
                                <div class="suggestion-icon ${gradient}"></div>
                                <div class="suggestion-content">
                                    <div class="suggestion-name">${template.name}</div>
                                    <div class="suggestion-category">${template.category || 'Template'}</div>
                                </div>
                                <div class="suggestion-price">${price === 0 ? 'FREE' : '$' + price}</div>
                            </div>
                        `;
                    }).join('')}
                `;
                suggestionsContainer.classList.add('active');
                return;
            }
            
            const searchTerm = query.toLowerCase();
            
            // Search through all templates
            const matches = allTemplates.filter(template => {
                return template.name.toLowerCase().includes(searchTerm) ||
                       (template.description && template.description.toLowerCase().includes(searchTerm)) ||
                       (template.category && template.category.toLowerCase().includes(searchTerm)) ||
                       (template.tags && template.tags.some(tag => tag.toLowerCase().includes(searchTerm)));
            }).slice(0, 6); // Show max 6 suggestions
            
            if (matches.length === 0) {
                suggestionsContainer.innerHTML = `
                    <div class="suggestion-empty">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                        <p>No templates found for "${query}"</p>
                    </div>
                `;
                suggestionsContainer.classList.add('active');
                return;
            }
            
            const gradients = ['gradient-1', 'gradient-2', 'gradient-3'];
            suggestionsContainer.innerHTML = matches.map((template, index) => {
                const gradient = gradients[index % gradients.length];
                const price = template.price || 0;
                
                // Highlight matching text (escape special regex chars)
                const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const highlightedName = template.name.replace(
                    new RegExp(`(${escapedQuery})`, 'gi'),
                    '<mark>$1</mark>'
                );
                
                return `
                    <div class="suggestion-item" onclick="selectTemplate('${template.slug}', '${inputElement.id}')">
                        <div class="suggestion-icon ${gradient}"></div>
                        <div class="suggestion-content">
                            <div class="suggestion-name">${highlightedName}</div>
                            <div class="suggestion-category">${template.category || 'Template'}</div>
                        </div>
                        <div class="suggestion-price">${price === 0 ? 'FREE' : '$' + price}</div>
                    </div>
                `;
            }).join('');
            
            suggestionsContainer.classList.add('active');
        }
        
        function selectTemplate(slug, inputId) {
            // Close suggestions
            document.querySelectorAll('.search-suggestions').forEach(s => s.classList.remove('active'));
            
            // Scroll to templates section and filter to this template
            navigateTo('home');
            
            setTimeout(() => {
                const searchInput = document.getElementById('templateSearch');
                const template = allTemplates.find(t => t.slug === slug);
                if (searchInput && template) {
                    searchInput.value = template.name;
                    filterTemplates();
                }
                // Scroll to templates section
                document.getElementById('templates').scrollIntoView({behavior:'smooth'});
            }, 300);
        }
        
        function handleSearchKeydown(e, suggestionsContainer) {
            const items = suggestionsContainer.querySelectorAll('.suggestion-item');
            const activeItem = suggestionsContainer.querySelector('.suggestion-item.active');
            let currentIndex = Array.from(items).indexOf(activeItem);
            
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (currentIndex < items.length - 1) {
                    items.forEach(i => i.classList.remove('active'));
                    items[currentIndex + 1].classList.add('active');
                    items[currentIndex + 1].scrollIntoView({ block: 'nearest' });
                } else if (currentIndex === -1 && items.length > 0) {
                    items[0].classList.add('active');
                }
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (currentIndex > 0) {
                    items.forEach(i => i.classList.remove('active'));
                    items[currentIndex - 1].classList.add('active');
                    items[currentIndex - 1].scrollIntoView({ block: 'nearest' });
                }
            } else if (e.key === 'Enter' && activeItem) {
                e.preventDefault();
                activeItem.click();
            } else if (e.key === 'Escape') {
                suggestionsContainer.classList.remove('active');
            }
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('%c DeployTemplate', 'font-size: 20px; font-weight: bold; color: #14B8A6;');
            console.log('%cPremium website templates marketplace', 'font-size: 12px; color: #71717a;');
            
            // Set theme icon
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.textContent = savedTheme === 'light' ? '' : '';
            }
            
            // Check auth state
            await checkAuth();
            
            // Load templates for search suggestions
            try {
                const { data: templates, error } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (!error && templates && templates.length > 0) {
                    allTemplates = templates;
                } else {
                    // Use mock data if DB is empty or error
                    allTemplates = getMockTemplates();
                }
            } catch (error) {
                console.error('Error loading templates:', error);
                allTemplates = getMockTemplates();
            }
            
            // Setup search suggestions
            setupSearchSuggestions();
            
            // Load templates into the integrated Templates section
            loadBrowseTemplates();
            
            // Listen for auth state changes
            supabaseClient.auth.onAuthStateChange(async (event, session) => {
                currentUser = session?.user ?? null;
                updateNavigation();
                
                if (event === 'SIGNED_IN') {
                } else if (event === 'SIGNED_OUT') {
                    navigateTo('home');
                }
            });
            
            // Scroll spy for nav links
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-links a[href^="#"]');
            
            function updateActiveLink() {
                const scrollY = window.pageYOffset;
                const windowHeight = window.innerHeight;
                
                // Clear all active states first
                navLinks.forEach(link => link.classList.remove('active'));
                
                // Find the current section
                let currentSection = null;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    const sectionId = section.getAttribute('id');
                    
                    // Calculate when to activate this section
                    // For templates during scroll spy, use higher threshold to avoid activating in hero
                    // But if user is actually IN templates section (past the start), activate it
                    let activationPoint;
                    if (sectionId === 'templates') {
                        // If we're past the section start, use a small offset
                        // Otherwise use viewport-based threshold
                        if (scrollY >= sectionTop) {
                            activationPoint = sectionTop - 50; // Small offset when already in section
                        } else {
                            activationPoint = sectionTop + (windowHeight * 0.3); // Larger offset when approaching
                        }
                    } else {
                        activationPoint = sectionTop - 150; // Standard offset for other sections
                    }
                    
                    // Check if we're in this section
                    if (scrollY >= activationPoint && scrollY < sectionTop + sectionHeight) {
                        currentSection = sectionId;
                    }
                });
                
                // Activate the matching nav link
                if (currentSection) {
                    navLinks.forEach(link => {
                        if (link.getAttribute('href') === '#' + currentSection) {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            window.addEventListener('scroll', updateActiveLink);
            updateActiveLink(); // Initial check
            
            // Initialize home page as active
            navigateTo('home');
            
            // Typewriter effect for logo
            setTimeout(() => {
                const logoSpans = document.querySelectorAll('.logo-text-template-inner span');
                const cursor = document.querySelector('.logo-text-template-cursor');
                
                
                if (logoSpans.length === 0) {
                    return;
                }
                
                let currentIndex = 0;
                let isTyping = true;
                
                // Set all to invisible first
                logoSpans.forEach(span => {
                    span.style.opacity = '0';
                    span.style.visibility = 'visible';
                });
                
                function updateCursorPosition() {
                    if (!cursor) return;
                    // Position cursor after the last visible letter
                    if (currentIndex > 0 && currentIndex <= logoSpans.length) {
                        const lastVisibleSpan = logoSpans[currentIndex - 1];
                        const rect = lastVisibleSpan.getBoundingClientRect();
                        const parentRect = lastVisibleSpan.parentElement.getBoundingClientRect();
                        cursor.style.left = (rect.right - parentRect.left + 4) + 'px';
                    } else {
                        cursor.style.left = '0px';
                    }
                }
                
                function typewriterEffect() {
                    if (isTyping) {
                        // Typing phase
                        if (currentIndex < logoSpans.length) {
                            logoSpans[currentIndex].style.opacity = '1';
                            currentIndex++;
                            updateCursorPosition();
                            setTimeout(typewriterEffect, 150); // 150ms between letters
                        } else {
                            // Pause when fully typed
                            setTimeout(() => {
                                isTyping = false;
                                currentIndex = logoSpans.length - 1;
                                typewriterEffect();
                            }, 2000); // Pause for 2 seconds
                        }
                    } else {
                        // Deleting phase
                        if (currentIndex >= 0) {
                            logoSpans[currentIndex].style.opacity = '0';
                            currentIndex--;
                            updateCursorPosition();
                            setTimeout(typewriterEffect, 50); // 50ms between deletions (faster)
                        } else {
                            // Pause when fully deleted, then start over
                            setTimeout(() => {
                                isTyping = true;
                                currentIndex = 0;
                                typewriterEffect();
                            }, 2000); // 2 second pause before restarting (matching typed pause)
                        }
                    }
                }
                
                // Start the typewriter effect
                typewriterEffect();
            }, 100);
        });

        // ============================================
        // CART SYSTEM
        // ============================================
        
        let cart = [];

        function initCart() {
            try {
                const savedCart = localStorage.getItem('cart');
                if (savedCart) {
                    const parsed = JSON.parse(savedCart);
                    // Validate cart is array and items have required properties
                    if (Array.isArray(parsed)) {
                        cart = parsed.filter(item => item && item.slug && typeof item.price !== 'undefined');
                        // If filtered cart is different, save the cleaned version
                        if (cart.length !== parsed.length) {
                            localStorage.setItem('cart', JSON.stringify(cart));
                        }
                    } else {
                        cart = [];
                        localStorage.setItem('cart', JSON.stringify(cart));
                    }
                    updateCartUI();
                }
            } catch (error) {
                console.error('Error loading cart:', error);
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
            }
        }

        function addToCart(slug, name, price, previewImage) {
            const existingItem = cart.find(item => item.slug === slug);
            
            if (existingItem) {
                showNotification('Item already in cart', 'error');
                return;
            }

            cart.push({
                slug,
                name,
                price,
                previewImage
            });

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            showNotification('Added to cart!', 'success');
        }

        function removeFromCart(slug) {
            console.log('Removing item with slug:', slug);
            console.log('Cart before:', cart);
            cart = cart.filter(item => item.slug !== slug);
            console.log('Cart after:', cart);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            showNotification('Removed from cart', 'success');
        }

        function clearCart() {
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            showNotification('Cart cleared', 'success');
        }

        // Expose clearCart to console for debugging
        window.clearCart = clearCart;

        function updateCartUI() {
            const count = cart.length;
            const total = cart.reduce((sum, item) => sum + item.price, 0);

            // Update badge
            const badge = document.getElementById('cartBadge');
            if (count > 0) {
                badge.textContent = count;
                badge.style.display = 'block';
            } else {
                badge.style.display = 'none';
            }

            // Update dropdown
            updateCartDropdown(count, total);
            
            // Update modal
            updateCartModal(count, total);
        }

        function updateCartDropdown(count, total) {
            const itemsContainer = document.getElementById('cartDropdownItems');
            const footer = document.getElementById('cartDropdownFooter');
            const totalEl = document.getElementById('cartDropdownTotal');

            if (count === 0) {
                itemsContainer.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon"></div>
                        <div class="cart-empty-text">Your cart is empty</div>
                        <div class="cart-empty-subtext">Any templates you add to your cart will be displayed here.</div>
                    </div>
                `;
                footer.style.display = 'none';
            } else {
                itemsContainer.innerHTML = cart.map((item, index) => {
                    return `
                        <div class="cart-item">
                            <div class="cart-item-image" style="background: var(--gradient-1);"></div>
                            <div class="cart-item-details">
                                <div class="cart-item-name">${item.name || 'Template'}</div>
                                <div class="cart-item-price">$${(item.price || 0).toFixed(2)}</div>
                            </div>
                            <button class="cart-item-remove" data-index="${index}" title="Remove"></button>
                        </div>
                    `;
                }).join('');
                
                // Add event listeners to remove buttons
                itemsContainer.querySelectorAll('.cart-item-remove').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const index = parseInt(btn.dataset.index);
                        removeFromCartByIndex(index);
                    });
                });
                
                totalEl.textContent = `$${total.toFixed(2)}`;
                footer.style.display = 'block';
            }
        }

        function updateCartModal(count, total) {
            const body = document.getElementById('cartModalBody');
            const footer = document.getElementById('cartModalFooter');
            const totalEl = document.getElementById('cartModalTotal');

            if (count === 0) {
                body.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon"></div>
                        <div class="cart-empty-text">Your cart is empty</div>
                        <div class="cart-empty-subtext">Any templates you add to your cart will be displayed here.</div>
                    </div>
                `;
                footer.style.display = 'none';
            } else {
                body.innerHTML = cart.map((item, index) => {
                    return `
                        <div class="cart-item" style="margin-bottom: 1rem;">
                            <div class="cart-item-image" style="background: var(--gradient-1);"></div>
                            <div class="cart-item-details">
                                <div class="cart-item-name">${item.name || 'Template'}</div>
                                <div class="cart-item-price">$${(item.price || 0).toFixed(2)}</div>
                            </div>
                            <button class="cart-item-remove" data-index="${index}" title="Remove"></button>
                        </div>
                    `;
                }).join('');
                
                // Add event listeners to remove buttons
                body.querySelectorAll('.cart-item-remove').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const index = parseInt(btn.dataset.index);
                        removeFromCartByIndex(index);
                    });
                });
                
                totalEl.textContent = `$${total.toFixed(2)}`;
                footer.style.display = 'block';
            }
        }

        function removeFromCartByIndex(index) {
            console.log('Removing item at index:', index);
            console.log('Cart before:', cart);
            cart.splice(index, 1);
            console.log('Cart after:', cart);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
            showNotification('Removed from cart', 'success');
        }

        function showCartDropdown() {
            const dropdown = document.getElementById('cartDropdown');
            const cartIcon = document.querySelector('.cart-icon-wrapper');
            
            // Position the dropdown since it's using fixed positioning
            if (cartIcon && dropdown) {
                const rect = cartIcon.getBoundingClientRect();
                dropdown.style.top = `${rect.bottom + 2}px`;
                dropdown.style.right = `${window.innerWidth - rect.right}px`;
            }
            
            dropdown.classList.add('active');
        }

        function hideCartDropdown() {
            document.getElementById('cartDropdown').classList.remove('active');
        }

        function toggleCartModal() {
            const modal = document.getElementById('cartModal');
            const overlay = document.getElementById('cartOverlay');
            
            modal.classList.toggle('active');
            overlay.classList.toggle('active');
            
            if (modal.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
                document.body.classList.add('cart-modal-open'); // Add class to disable cart dropdown
            } else {
                document.body.style.overflow = '';
                document.body.classList.remove('cart-modal-open'); // Remove class to re-enable cart dropdown
            }
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Your cart is empty', 'error');
                return;
            }
            
            // TODO: Implement checkout process
            showNotification('Checkout coming soon!', 'error');
        }

        // Initialize cart on page load
        initCart();

        // ============================================
        // ADMIN FUNCTIONS
        // ============================================
        
        function showAdminModal() {
            document.getElementById('adminModal').classList.add('active');
            showAdminTab('add');
            loadAdminTemplates();
            loadAdminHeroImages();
            
            // Auto-generate slug from name
            document.getElementById('adminTemplateName').addEventListener('input', (e) => {
                const slug = e.target.value.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');
                document.getElementById('adminTemplateSlug').value = slug;
            });
        }

        function showAdminTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.admin-tab-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.admin-tab').forEach(el => {
                el.style.borderBottomColor = 'transparent';
                el.style.color = 'var(--text-secondary)';
            });
            
            // Show selected tab
            document.getElementById(`adminTab${tab.charAt(0).toUpperCase() + tab.slice(1)}Content`).style.display = 'block';
            const tabBtn = document.getElementById(`adminTab${tab.charAt(0).toUpperCase() + tab.slice(1)}`);
            tabBtn.style.borderBottomColor = 'var(--primary)';
            tabBtn.style.color = 'var(--primary)';
        }

        async function loadAdminTemplates() {
            const list = document.getElementById('adminTemplatesList');
            
            try {
                const { data: templates, error } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                list.innerHTML = templates.map(t => `
                    <div style="background: var(--card-bg); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h4 style="color: var(--text-primary); margin-bottom: 0.25rem;">${t.name}</h4>
                            <p style="color: var(--text-muted); font-size: 0.9rem;">${t.category}  $${t.price}</p>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="editAdminTemplate('${t.id}')" class="btn btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.9rem;">Edit</button>
                            <button onclick="deleteAdminTemplate('${t.id}', '${t.name}')" class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem; background: #dc2626;">Delete</button>
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                list.innerHTML = '<p style="color: var(--text-muted);">Error loading templates</p>';
            }
        }

        async function editAdminTemplate(id) {
            try {
                const { data: template, error } = await supabaseClient
                    .from('templates')
                    .select('*')
                    .eq('id', id)
                    .single();

                if (error) throw error;

                document.getElementById('editTemplateId').value = template.id;
                document.getElementById('editTemplateName').value = template.name;
                document.getElementById('editTemplateCategory').value = template.category;
                document.getElementById('editTemplateDescription').value = template.description;
                document.getElementById('editTemplatePrice').value = template.price;
                document.getElementById('editTemplateIsPopular').checked = template.is_popular;

                document.getElementById('editTemplateModal').classList.add('active');
            } catch (error) {
                showNotification('Error loading template: ' + error.message, 'error');
            }
        }

        async function handleEditTemplate(event) {
            event.preventDefault();
            
            const btn = document.getElementById('editTemplateBtn');
            const errorEl = document.getElementById('editError');
            
            btn.disabled = true;
            btn.textContent = 'Updating...';
            errorEl.classList.remove('active');
            
            try {
                const id = document.getElementById('editTemplateId').value;
                const previewImageFile = document.getElementById('editTemplatePreviewImage').files[0];
                
                let updateData = {
                    name: document.getElementById('editTemplateName').value,
                    category: document.getElementById('editTemplateCategory').value,
                    description: document.getElementById('editTemplateDescription').value,
                    price: parseFloat(document.getElementById('editTemplatePrice').value),
                    is_popular: document.getElementById('editTemplateIsPopular').checked
                };

                // Upload new preview image if provided
                if (previewImageFile) {
                    const { data: template } = await supabaseClient.from('templates').select('slug').eq('id', id).single();
                    const ext = previewImageFile.name.split('.').pop();
                    const path = `previews/${template.slug}.${ext}`;
                    
                    const { error: uploadError } = await supabaseClient.storage
                        .from('templates')
                        .upload(path, previewImageFile, { upsert: true });

                    if (uploadError) throw uploadError;

                    const { data: urlData } = supabaseClient.storage.from('templates').getPublicUrl(path);
                    updateData.preview_image = urlData.publicUrl;
                }

                const { error } = await supabaseClient
                    .from('templates')
                    .update(updateData)
                    .eq('id', id);

                if (error) throw error;

                showNotification('Template updated successfully!', 'success');
                closeModal('editTemplateModal');
                loadAdminTemplates();
                loadBrowseTemplates();
            } catch (error) {
                errorEl.textContent = error.message;
                errorEl.classList.add('active');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Update Template';
            }
        }

        async function deleteAdminTemplate(id, name) {
            if (!confirm(`Delete "${name}"? This cannot be undone.`)) return;

            try {
                const { error } = await supabaseClient
                    .from('templates')
                    .delete()
                    .eq('id', id);

                if (error) throw error;

                showNotification('Template deleted successfully!', 'success');
                loadAdminTemplates();
                loadBrowseTemplates();
            } catch (error) {
                showNotification('Error deleting template: ' + error.message, 'error');
            }
        }

        async function loadAdminHeroImages() {
            const list = document.getElementById('adminHeroImagesList');
            
            try {
                const { data: files, error } = await supabaseClient.storage
                    .from('templates')
                    .list('hero', { limit: 100 });

                if (error) throw error;

                if (!files || files.length === 0) {
                    list.innerHTML = '<p style="color: var(--text-muted);">No hero images uploaded yet</p>';
                    return;
                }

                list.innerHTML = files.filter(f => f.name !== '.emptyFolderPlaceholder').map(file => {
                    const { data } = supabaseClient.storage.from('templates').getPublicUrl(`hero/${file.name}`);
                    return `
                        <div style="position: relative; border-radius: 8px; overflow: hidden; aspect-ratio: 16/9;">
                            <img src="${data.publicUrl}" style="width: 100%; height: 100%; object-fit: cover;" />
                            <button onclick="deleteHeroImage('${file.name}')" style="position: absolute; top: 0.5rem; right: 0.5rem; background: #dc2626; color: white; border: none; border-radius: 4px; padding: 0.25rem 0.5rem; cursor: pointer; font-size: 0.8rem;">Delete</button>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                list.innerHTML = '<p style="color: var(--text-muted);">Error loading hero images</p>';
            }
        }

        async function handleAdminHeroUpload(event) {
            event.preventDefault();
            
            const btn = document.getElementById('adminHeroBtn');
            const file = document.getElementById('adminHeroImage').files[0];
            
            btn.disabled = true;
            btn.textContent = 'Uploading...';
            
            try {
                const timestamp = Date.now();
                const ext = file.name.split('.').pop();
                const path = `hero/hero-${timestamp}.${ext}`;

                const { error } = await supabaseClient.storage
                    .from('templates')
                    .upload(path, file);

                if (error) throw error;

                showNotification('Hero image uploaded successfully!', 'success');
                document.getElementById('adminHeroUploadForm').reset();
                loadAdminHeroImages();
            } catch (error) {
                showNotification('Error uploading hero image: ' + error.message, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Upload Hero Image';
            }
        }

        async function deleteHeroImage(filename) {
            if (!confirm('Delete this hero image?')) return;

            try {
                const { error } = await supabaseClient.storage
                    .from('templates')
                    .remove([`hero/${filename}`]);

                if (error) throw error;

                showNotification('Hero image deleted!', 'success');
                loadAdminHeroImages();
            } catch (error) {
                showNotification('Error deleting image: ' + error.message, 'error');
            }
        }

        async function handleAdminAddTemplate(event) {
            event.preventDefault();
            
            const btn = document.getElementById('adminAddBtn');
            const errorEl = document.getElementById('adminError');
            
            btn.disabled = true;
            btn.textContent = 'Uploading...';
            errorEl.classList.remove('active');
            
            try {
                const previewImage = document.getElementById('adminTemplatePreviewImage').files[0];
                const zipFile = document.getElementById('adminTemplateZipFile').files[0];
                const slug = document.getElementById('adminTemplateSlug').value;

                // Upload preview image
                const previewImageExt = previewImage.name.split('.').pop();
                const previewImagePath = `previews/${slug}.${previewImageExt}`;
                const { error: imageError } = await supabaseClient.storage
                    .from('templates')
                    .upload(previewImagePath, previewImage, { upsert: true });

                if (imageError) throw imageError;

                // Upload ZIP file
                const zipPath = `files/${slug}.zip`;
                const { error: zipError } = await supabaseClient.storage
                    .from('templates')
                    .upload(zipPath, zipFile, { upsert: true });

                if (zipError) throw zipError;

                // Get public URLs
                const { data: previewUrlData } = supabaseClient.storage
                    .from('templates')
                    .getPublicUrl(previewImagePath);

                const { data: zipUrlData } = supabaseClient.storage
                    .from('templates')
                    .getPublicUrl(zipPath);

                // Insert into database
                const { error: dbError } = await supabaseClient
                    .from('templates')
                    .insert({
                        name: document.getElementById('adminTemplateName').value,
                        slug: slug,
                        category: document.getElementById('adminTemplateCategory').value,
                        description: document.getElementById('adminTemplateDescription').value,
                        price: parseFloat(document.getElementById('adminTemplatePrice').value),
                        preview_image: previewUrlData.publicUrl,
                        download_url: zipUrlData.publicUrl,
                        is_popular: document.getElementById('adminTemplateIsPopular').checked,
                        downloads: 0
                    });

                if (dbError) throw dbError;

                showNotification('Template added successfully!', 'success');
                document.getElementById('adminAddTemplateForm').reset();
                loadAdminTemplates();
                loadBrowseTemplates();
            } catch (error) {
                errorEl.textContent = error.message;
                errorEl.classList.add('active');
            } finally {
                btn.disabled = false;
                btn.textContent = 'Add Template';
            }
        }
    </script>
    <!-- Cart Modal -->
    <div class="cart-overlay" id="cartOverlay" onclick="toggleCartModal()"></div>
    <div class="cart-modal" id="cartModal">
        <div class="cart-modal-header">
            <div class="cart-modal-logo">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <h2 class="cart-modal-title">Shopping Cart</h2>
            </div>
            <button class="cart-modal-close" onclick="toggleCartModal()" aria-label="Close">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="cart-modal-body" id="cartModalBody">
            <div class="cart-empty">
                <div class="cart-empty-icon"></div>
                <div class="cart-empty-text">Your cart is empty</div>
                <div class="cart-empty-subtext">Discover amazing templates and add them to your cart to get started.</div>
                <button class="cart-empty-btn" onclick="toggleCartModal(); showPage('browse');">Browse Templates</button>
            </div>
        </div>
        <div class="cart-modal-footer" id="cartModalFooter" style="display: none;">
            <div class="cart-modal-total">
                <span>Total</span>
                <span id="cartModalTotal">$0</span>
            </div>
            <div class="cart-modal-actions">
                <button class="cart-modal-btn cart-modal-btn-outline" onclick="clearCart()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    Clear
                </button>
                <button class="cart-modal-btn cart-modal-btn-primary" onclick="proceedToCheckout()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                        <line x1="1" y1="10" x2="23" y2="10"></line>
                    </svg>
                    Checkout
                </button>
            </div>
        </div>
    </div>
    
    </div><!-- End main-content -->
    
    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
        <div class="mobile-nav-item active" onclick="navigateToSection('home')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            <span>Home</span>
        </div>
        
        <div class="mobile-nav-item" onclick="navigateToSection('browse')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
            <span>Browse</span>
        </div>
        
        <div class="mobile-nav-item" onclick="toggleCartModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
            <span id="mobileCartBadge" class="mobile-nav-badge" style="display: none;">0</span>
            <span>Cart</span>
        </div>
        
        <div class="mobile-nav-item" onclick="navigateToSection('account')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Account</span>
        </div>
    </nav>
    
    <script>
        function navigateToSection(section) {
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            if (section === 'home') {
                window.scrollTo({ top: 0, behavior: 'smooth' });
                showPage('home');
            } else if (section === 'browse') {
                showPage('browse');
            } else if (section === 'account') {
                if (currentUser) {
                    showPage('dashboard');
                } else {
                    showPage('login');
                }
            }
        }
        
        function updateMobileCartBadge() {
            const badge = document.getElementById('mobileCartBadge');
            if (badge && cart.length > 0) {
                badge.textContent = cart.length;
                badge.style.display = 'block';
            } else if (badge) {
                badge.style.display = 'none';
            }
        }
        
        // Hook into cart functions
        if (typeof addToCart !== 'undefined') {
            const origAdd = addToCart;
            addToCart = function(...args) {
                origAdd(...args);
                updateMobileCartBadge();
            };
        }
        
        if (typeof removeFromCart !== 'undefined') {
            const origRemove = removeFromCart;
            removeFromCart = function(...args) {
                origRemove(...args);
                updateMobileCartBadge();
            };
        }
        
        if (typeof clearCart !== 'undefined') {
            const origClear = clearCart;
            clearCart = function(...args) {
                origClear(...args);
                updateMobileCartBadge();
            };
        }
        
        setTimeout(updateMobileCartBadge, 500);
    </script>
    
    <!-- Device Scroll Parallax Animation - Optimized -->
    <script>
        (function() {
            let scrollTimeout;
            const devices = document.querySelectorAll('.device');
            
            // Delay parallax until after entry animation completes
            setTimeout(function() {
                let ticking = false;
                
                function updateParallax() {
                    const scrollY = window.scrollY;
                    if (scrollY > 800) {
                        ticking = false;
                        return;
                    }
                    
                    const progress = Math.min(scrollY / 600, 1);
                    devices.forEach(device => {
                        device.style.opacity = Math.max(1 - progress * 0.9, 0.1);
                    });
                    
                    ticking = false;
                }
                
                window.addEventListener('scroll', function() {
                    if (!ticking) {
                        requestAnimationFrame(updateParallax);
                        ticking = true;
                    }
                }, { passive: true });
            }, 2000);
        })();
    </script>
</body>
</html>
